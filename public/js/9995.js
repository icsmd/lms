"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[9995],{5266:(t,e,a)=>{a.d(e,{Z:()=>l});var n=a(381),s=a.n(n),i=a(860),r=a(475);const l={mixins:[i.Z,r.Z],data:function(){return{sUserType:this.$root.getUserType(),aTableConfig:{aoColumnDefs:[{bSortable:!0,aTargets:[-1]}],oLanguage:{oPaginate:{sPrevious:"",sNext:""}},iDisplayLength:5,aLengthMenu:[[5,10,25,50,-1],[5,10,25,50,"All"]],sDom:'<"dt-panelmenu clearfix"lfr>t<"dt-panelfooter clearfix"ip>',oTableTools:{sSwfPath:"vendor/plugins/datatables/extensions/TableTools/swf/copy_csv_xls_pdf.swf"}},aFundTypes:[{id:1,code:"ps",desc:"Personnel Services (PS)"},{id:2,code:"mooe",desc:"Maintenance and Other Operating Expenses (MOOE)"},{id:3,code:"sr",desc:"Special Requests (SR)"}],iSelectedFund:0,aFSList:[],aRegionList:[],aSheet:[],aSheetDetails:[],fTotalGrossAmount:0,fTotalTaxAmount:0,fTotalNetAmount:0,fTotalGrossPartAmount:0,fTotalTaxPartAmount:0,fTotalParticularAmount:0,sFundCode:"",sReportNo:"",sSheetNo:"",sTitleDate:"",sCurrDate:s()().format("DD-MMM-YYYY"),sCompressedSummary:"",aFundSource:[],aSheetRecap:[],aSheetSummary:[],fSumOfSWReg:0,fSumOfSWCas:0,fSumOfOffice:0,fSumOfOthers:0,sReportType:"",sReportDetailsUrl:"",sPrintPageUrl:"",sPartDesc:""}},mounted:function(){this.initializePlugins(),this.initEventListeners(),this.getFundSourceList(),this.executeUserTypeRequests()},methods:{initializePlugins:function(t){$(".select2-single").select2(),$("#inpMonthYearTransact").monthpicker({changeYear:!1,stepYears:1,prevText:'<i class="fa fa-chevron-left"></i>',nextText:'<i class="fa fa-chevron-right"></i>',showButtonPanel:!0,beforeShow:function(t,e){var a=$(this).parents(".admin-form").attr("class");e.dpDiv.parent().hasClass(a)||e.dpDiv.wrap('<div class="'+a+'"></div>')}})},initTblSheets:function(){$("#tbl_cash_reg_summary").DataTable(this.aTableConfig)},initEventListeners:function(){var t=this;$("#inp_fund_type").on("select2:select",(function(t){"sr"===$("#inp_fund_type").val()?$("#divSRSelection").css("visibility",""):$("#divSRSelection").css("visibility","hidden")})),document.body.addEventListener("click",(function(e){e.preventDefault(),"btnGenReport"===e.target.id&&t.validateFilter(),"btnPrintReport"===e.target.id&&t.prepareReport()}),!1),$("#txt_particular").keyup((function(e){t.sPartDesc=$("#txt_particular").val()}))},prepareReport:function(){var t=Object.assign({},this.aSheetDetails,{date_details:{title_date:this.sTitleDate,curr_date:this.sCurrDate}});"cash-reg-liquidation"===this.sReportType&&(t=Object.assign({},t,{sPartDesc:this.sPartDesc})),this.sCompressedSummary=btoa(JSON.stringify(t)),this.$root.setLocalStorageValue("forEx",this.sCompressedSummary),window.open(this.sPrintPageUrl,"_blank")},validateFilter:function(){var t,e,a,n=!0,s=$("#inp_fund_type").val(),i=$("#inpMonthYearTransact").val();""===i&&(n=!1,this.showErrorAlert("Month-Year is Required!")),null==s?(n=!1,this.showErrorAlert("Type is Required!")):"sr"===s&&null==(e=$("#inp_sr").val())&&(n=!1,this.showErrorAlert("Request Reference is Required!")),"sdor"!==this.sUserType&&null==(a=$("#inp_office").val())&&(n=!1,this.showErrorAlert("Office is Required!")),!0===n&&(t={sheet_fund_type:s,transact_month:i.split("/")[0],transact_year:i.split("/")[1]},t="sr"===s?Object.assign({},t,{fs_id:e}):t,t="sdor"!==this.sUserType?Object.assign({},t,{region_id:a}):t,this.getDateValues(),this.getReportDetails(t))},getDateValues:function(){var t=$("#inpMonthYearTransact").val(),e=t.split("/")[0],a=t.split("/")[1],n=e+"-01-"+a,i=s()(n).endOf("month").format("DD");this.sTitleDate="01-"+i+" "+s()(n).format("MMMM")+" "+a},executeUserTypeRequests:function(){"sdor"!==this.sUserType&&($("#divInpOffice").css("visibility",""),this.getRegionList())},getRegionList:function(){this.aRegionList=this.$root.parseLocalStorageLib().regions},getReportDetails:function(t){var e=this;this.getRequest(this.sReportDetailsUrl,(function(t){var a=t.data;0===a.length?(e.resetDisplayTable(),e.showErrorAlert("No available data to load!"),$(".tbl-empty").css("display",""),$(".tbl-with-content").css("display","none"),$("#btnPrintReport").attr("disabled",!0),$("#btnPrintReport").attr("class","btn btn-default btn-gradient dark btn-lg"),"cash-reg-liquidation"===e.sReportType&&(document.getElementById("txt_particular").readOnly=!0)):($(".tbl-with-content").css("display",""),$(".tbl-empty").css("display","none"),$("#btnPrintReport").attr("disabled",!1),$("#btnPrintReport").attr("class","btn btn-success btn-gradient dark btn-lg"),e.aSheetDetails=a,e.reportLayoutSetter(a))}),t)},resetDisplayTable:function(){this.aSheetDetails=[],this.fTotalGrossAmount=0,this.fTotalTaxAmount=0,this.fTotalNetAmount=0,this.fTotalParticularAmount=0},reportLayoutSetter:function(t){this.sTitleDate=void 0===t.date_details?this.sTitleDate:t.date_details.title_date,this.sCurrDate=void 0===t.date_details?this.sCurrDate:t.date_details.curr_date,"cash-reg-report"===this.sReportType?(this.sReportNo=t.sheet_details.report_no,this.sSheetNo=t.sheet_details.sheet_no,this.sFundCluster=t.sheet_details.fund_desc+" ("+t.sheet_details.fund_code+")",this.computeTotalAmount()):"cash-reg-record"===this.sReportType?(this.aFundSource=t.fund_source[0],this.aSheetRecap=t.sheet_recap,this.aSheetSummary=t.sheet_summary):"cash-reg-register"===this.sReportType?(this.aFundSource=t.fund_source[0],this.aSheetRecap=t.sheet_recap,this.aSheetSummary=t.sheet_summary,this.computeSummation()):"cash-reg-liquidation"===this.sReportType&&("SCMS | Print Liquidation Form"===document.title?(this.aSheetSummary=t.sheet_summary,console.log(t.sPartDesc),this.sPartDesc=t.sPartDesc):(this.aSheetSummary=t.sheet_summary,this.sPartDesc=this.aSheetSummary.fs_desc,document.getElementById("txt_particular").readOnly=!1,$("#txt_particular").text(this.sPartDesc)))},getFundSourceList:function(){var t=this;this.getRequest("fund-source/get-list",(function(e){t.aFSList=e.data}),{fs_type:"sr",fs_status:"RELEASED"})},computeTotalAmount:function(){var t=this.aSheetDetails.sheet_entries.reduce((function(t,e){return t+parseFloat(e.net_amount)}),0),e=this.aSheetDetails.sheet_entries.reduce((function(t,e){return t+parseFloat(e.tax_amount)}),0),a=this.aSheetDetails.sheet_entries.reduce((function(t,e){return t+parseFloat(e.gross_amount)}),0),n=this.aSheetDetails.sheet_recap.reduce((function(t,e){return t+parseFloat(e.gross_total)}),0),s=this.aSheetDetails.sheet_recap.reduce((function(t,e){return t+parseFloat(e.tax_total)}),0),i=this.aSheetDetails.sheet_recap.reduce((function(t,e){return t+parseFloat(e.net_total)}),0);this.fTotalGrossAmount=a.toFixed(2),this.fTotalTaxAmount=e.toFixed(2),this.fTotalNetAmount=t.toFixed(2),this.fTotalGrossPartAmount=n.toFixed(2),this.fTotalTaxPartAmount=s.toFixed(2),this.fTotalParticularAmount=i.toFixed(2)},computeSummation:function(t){var e=this;this.aSheetDetails.sheet_entries.forEach((function(t){"5-01-010-1000"===t.uacs_code?e.fSumOfSWReg+=parseFloat(t.net_amount):"5-01-010-2000"===t.uacs_code?e.fSumOfSWCas+=parseFloat(t.net_amount):"5-02-03-010"===t.uacs_code?e.fSumOfOffice+=parseFloat(t.net_amount):e.fSumOfOthers+=parseFloat(t.net_amount)}))},parseCompressedData:function(){var t=this.$root.getLocalStorageValue("forEx");this.aSheetDetails=JSON.parse(atob(t)),this.reportLayoutSetter(this.aSheetDetails)},printReport:function(){var t=document.getElementById("printableDiv").outerHTML,e=document.body.innerHTML;document.body.innerHTML=t,window.print(),document.body.innerHTML=e}}}},6902:(t,e,a)=>{a.d(e,{Z:()=>i});var n=a(3645),s=a.n(n)()((function(t){return t[1]}));s.push([t.id,'@media print{@page{size:A4 portrait!important}#printableDiv[data-v-482aa5d4]{display:block!important}.header[data-v-482aa5d4]{height:50px;left:0;margin-bottom:1%;padding:1px;position:absolute;right:0;text-align:center;top:0}.table-container[data-v-482aa5d4]{border:1px solid #000;margin-top:1%!important}.table-container[data-v-482aa5d4]:after{content:"";display:block;height:0;margin-top:1%!important}table[data-v-482aa5d4]{border:1px solid #000;width:100%}tbody[data-v-482aa5d4],td[data-v-482aa5d4],thead[data-v-482aa5d4],tr[data-v-482aa5d4]{border:1px solid #000;font-family:Arial}tbody[data-v-482aa5d4]:after,tr[data-v-482aa5d4]:after{margin-top:50%;page-break-before:always}thead[data-v-482aa5d4],thead[data-v-482aa5d4]:after{display:table-header-group!important}.p-inside-table[data-v-482aa5d4]{font-size:12px!important;margin:3%!important}}',""]);const i=s},9995:(t,e,a)=>{a.r(e),a.d(e,{default:()=>lt});var n=a(821),s=function(t){return(0,n.dD)("data-v-482aa5d4"),t=t(),(0,n.Cn)(),t},i={id:"printableDiv"},r=s((function(){return(0,n._)("div",{class:"header"},null,-1)})),l={class:"table-container",id:"tbl_cash_reg_summary",cellspacing:"0",width:"100%",style:{"font-family":"Muli !important"}},o={class:"custom-table-header"},_=s((function(){return(0,n._)("tr",{style:{border:"solid 1px white !important"}},[(0,n._)("td",{colspan:"3",style:{border:"solid 1px white !important"}}," ")],-1)})),u=s((function(){return(0,n._)("tr",{style:{"border-top":"solid 1px white !important","border-left":"solid 1px rgb(255, 255, 255)","border-right":"solid 1px rgb(255, 255, 255)"}},[(0,n._)("td",{colspan:"3",style:{border:"solid 1px white !important","border-bottom":"1px solid black !important"}},"  ")],-1)})),d={colspan:"2",style:{border:"solid 1px rgb(13, 0, 0)","text-align":"center"}},p={style:{"margin-top":"20px"},class:"p-inside-table"},c=s((function(){return(0,n._)("b",null,"LIQUIDATION REPORT",-1)})),h=s((function(){return(0,n._)("br",null,null,-1)})),m=s((function(){return(0,n._)("p",{class:"p-inside-table pull-left",style:{margin:"10px !important"}},"Entity Name: _____________________________________________________",-1)})),f={class:"p-inside-table pull-left",style:{margin:"10px !important"}},b={style:{border:"solid 1px rgb(13, 0, 0)","text-align":"left"}},g={style:{"margin-top":"20px"},class:"p-inside-table"},y=s((function(){return(0,n._)("p",{style:{"margin-top":"20px"},class:"p-inside-table"},"Date: _______________________",-1)})),S={style:{"margin-top":"20px"},class:"p-inside-table"},v=s((function(){return(0,n._)("tr",null,[(0,n._)("th",{colspan:"2",style:{border:"solid 1px rgb(13, 0, 0)","text-align":"center"}},[(0,n._)("p",{class:"p-inside-table"},"PARTICULARS")]),(0,n._)("th",{style:{border:"solid 1px rgb(13, 0, 0)","text-align":"center"}},[(0,n._)("p",{class:"p-inside-table"},"AMOUNT")])],-1)})),T={colspan:"2",style:{"text-align":"left"}},x={id:"content",class:"p-inside-table"},D=s((function(){return(0,n._)("br",null,null,-1)})),R=s((function(){return(0,n._)("br",null,null,-1)})),P=s((function(){return(0,n._)("br",null,null,-1)})),w={style:{"font-size":"20px !important","text-align":"right"}},A={class:"p-inside-table"},F=s((function(){return(0,n._)("br",null,null,-1)})),O=s((function(){return(0,n._)("br",null,null,-1)})),U=s((function(){return(0,n._)("br",null,null,-1)})),C=s((function(){return(0,n._)("br",null,null,-1)})),N=s((function(){return(0,n._)("span",{class:"pull-left"},"Php",-1)})),E=s((function(){return(0,n._)("br",null,null,-1)})),L=s((function(){return(0,n._)("br",null,null,-1)})),k=s((function(){return(0,n._)("br",null,null,-1)})),M=s((function(){return(0,n._)("br",null,null,-1)})),$=s((function(){return(0,n._)("td",{colspan:"2",style:{"text-align":"left"}},[(0,n._)("p",{class:"p-inside-table"},"TOTAL AMOUNT SPENT")],-1)})),z={style:{"font-size":"20px !important","text-align":"right"}},q={class:"p-inside-table"},I=s((function(){return(0,n._)("span",{class:"pull-left"},"Php",-1)})),Y={colspan:"2",style:{"text-align":"left"}},H={class:"p-inside-table"},B={style:{"font-size":"20px !important","text-align":"right"}},Z={class:"p-inside-table"},V=s((function(){return(0,n._)("span",{class:"pull-left"},"Php",-1)})),j=s((function(){return(0,n._)("td",{colspan:"2",style:{"text-align":"left"}},[(0,n._)("p",{class:"p-inside-table"},"AMOUNT REFUNDED PER OR NO. ______ DTD. _______")],-1)})),G={style:{"font-size":"20px !important","text-align":"right"}},W={class:"p-inside-table"},J=s((function(){return(0,n._)("span",{class:"pull-left"},"Php",-1)})),Q=s((function(){return(0,n._)("td",{colspan:"2",style:{"text-align":"left"}},[(0,n._)("p",{class:"p-inside-table"},"AMOUNT TO BE REIMBURSED")],-1)})),K={style:{"font-size":"20px !important","text-align":"right"}},X={class:"p-inside-table"},tt=s((function(){return(0,n._)("span",{class:"pull-left"},"Php",-1)})),et=s((function(){return(0,n._)("tr",null,[(0,n._)("td",{width:"33%"},[(0,n._)("div",{style:{margin:"2%"}},[(0,n._)("p",null,"A. Certified: Correctness of the above data"),(0,n._)("p",null,"_________________________"),(0,n._)("p",null,[(0,n.Uk)("Signature over Printed Name"),(0,n._)("br"),(0,n.Uk)("Claimant")]),(0,n._)("br"),(0,n._)("br"),(0,n._)("p",null,"Date: ________________")])]),(0,n._)("td",{width:"33%"},[(0,n._)("div",{style:{margin:"2%"}},[(0,n._)("p",null,"B. Certified: Purpose of travel / cash advance duly accomplished"),(0,n._)("p",null,"_________________________"),(0,n._)("p",null,[(0,n.Uk)("Signature over Printed Name"),(0,n._)("br"),(0,n.Uk)("Immediate Supervisor")]),(0,n._)("br"),(0,n._)("br"),(0,n._)("p",null,"Date: ________________")])]),(0,n._)("td",{width:"33%"},[(0,n._)("div",{style:{margin:"2%"}},[(0,n._)("p",null,"C. Certified: Supporting documents complete and proper"),(0,n._)("p",null,"_________________________"),(0,n._)("p",null,[(0,n.Uk)("Signature over Printed Name"),(0,n._)("br"),(0,n.Uk)("Head, Accounting Division Unit")]),(0,n._)("br"),(0,n._)("p",null,"JEV No.: ________________"),(0,n._)("p",null,"Date: ________________")])])],-1)}));const at={mixins:[a(5266).Z],created:function(){document.title="SCMS | Print Liquidation Form",this.sReportType="cash-reg-liquidation",this.parseCompressedData()},mounted:function(){this.printReport(),this.adjustSpace()},methods:{adjustSpace:function(){var t=document.getElementById("content"),e=parseFloat(window.getComputedStyle(t).lineHeight),a=t.clientHeight,n=Math.ceil(a/e),s=12;11===n||12===n?s=8:13===n?s=6:14===n?s=4:n>=15&&(s=1);for(var i="",r=0;r<s;r++)i+="<br>";t.innerHTML+=i}}};var nt=a(3379),st=a.n(nt),it=a(6902),rt={insert:"head",singleton:!1};st()(it.Z,rt);it.Z.locals;const lt=(0,a(3744).Z)(at,[["render",function(t,e,a,s,at,nt){return(0,n.wg)(),(0,n.iD)("div",i,[r,(0,n._)("table",l,[(0,n._)("thead",o,[_,u,(0,n._)("tr",null,[(0,n._)("th",d,[(0,n._)("p",p,[c,h,(0,n.Uk)("Period Covered "+(0,n.zw)(t.sTitleDate),1)]),m,(0,n._)("p",f,[(0,n.Uk)("Fund Cluster: "),(0,n._)("u",null,(0,n.zw)(t.aSheetSummary.fund_desc)+" ("+(0,n.zw)(t.aSheetSummary.fund_code)+")",1)])]),(0,n._)("th",b,[(0,n._)("p",g,[(0,n.Uk)("Serial No.: "),(0,n._)("u",null,(0,n.zw)(t.aSheetSummary.sheet_no),1)]),y,(0,n._)("p",S,[(0,n.Uk)("Responsibility Center Code: "),(0,n._)("u",null,(0,n.zw)(t.aSheetSummary.office_code),1)])])]),v]),(0,n._)("tbody",null,[(0,n._)("tr",null,[(0,n._)("td",T,[(0,n._)("p",x,[D,R,P,(0,n.Uk)(" "+(0,n.zw)(t.sPartDesc),1)])]),(0,n._)("td",w,[(0,n._)("p",A,[F,O,U,C,N,(0,n.Uk)("  "+(0,n.zw)(t.convertNumberFormat(t.aSheetSummary.total_expenses)),1),E,L,k,M])])]),(0,n._)("tr",null,[$,(0,n._)("td",z,[(0,n._)("p",q,[I,(0,n.Uk)(" "+(0,n.zw)(t.convertNumberFormat(t.aSheetSummary.total_expenses)),1)])])]),(0,n._)("tr",null,[(0,n._)("td",Y,[(0,n._)("p",H,"AMOUNT OF CASH ADVANCE PER DV NO. "+(0,n.zw)(t.aSheetSummary.dv_no)+" DTD._____ ",1)]),(0,n._)("td",B,[(0,n._)("p",Z,[V,(0,n.Uk)("  "+(0,n.zw)(t.convertNumberFormat(t.aSheetSummary.total_cash)),1)])])]),(0,n._)("tr",null,[j,(0,n._)("td",G,[(0,n._)("p",W,[J,(0,n.Uk)(" "+(0,n.zw)(t.convertNumberFormat(t.aSheetSummary.total_coh)),1)])])]),(0,n._)("tr",null,[Q,(0,n._)("td",K,[(0,n._)("p",X,[tt,(0,n.Uk)(" "+(0,n.zw)(t.convertNumberFormat(t.aSheetSummary.total_reimburse)),1)])])]),et])])])}],["__scopeId","data-v-482aa5d4"]])}}]);