"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[148],{4956:(a,e,t)=>{t.d(e,{Z:()=>n});var s=t(3645),l=t.n(s)()((function(a){return a[1]}));l.push([a.id,".error_msg[data-v-6d6908ca]{color:red!important}.custom-margin-top[data-v-6d6908ca]{margin-top:2%}",""]);const n=l},6148:(a,e,t)=>{t.r(e),t.d(e,{default:()=>ea});var s=t(821),l=function(a){return(0,s.dD)("data-v-6d6908ca"),a=a(),(0,s.Cn)(),a},n={id:"content_wrapper"},i=(0,s.uE)('<header id="topbar" class="alt" data-v-6d6908ca><div class="topbar-left" data-v-6d6908ca><ol class="breadcrumb" data-v-6d6908ca><li class="crumb-trail" data-v-6d6908ca> Budget Management </li><li class="crumb-active" data-v-6d6908ca><a data-v-6d6908ca>Add ORS</a></li></ol></div></header>',1),c={class:"panel"},o=l((function(){return(0,s._)("div",{class:"panel-heading"},[(0,s._)("span",{class:"panel-title"},"Add Obligation Request and Status")],-1)})),d={class:"panel-body"},r={class:"col-md-6"},u={class:"form-group"},p={class:"row",style:{margin:"1%"}},_=l((function(){return(0,s._)("div",{class:"col-lg-12"},[(0,s._)("label",{for:"inp_ors_number",class:"col-lg-12 control-label"},"ORS Number: "),(0,s._)("input",{type:"text",id:"inp_ors_number",class:"form-control",placeholder:"Enter ORS Number"}),(0,s._)("p",{id:"p_ors_number",style:{display:"none"},class:"error_msg"},"ORS Number is required!")],-1)})),v={class:"col-lg-6 custom-margin-top"},m=l((function(){return(0,s._)("label",{for:"inp_fund",class:"col-lg-12 control-label"},"Fund Cluster: ",-1)})),g={class:"select2-single form-control col-md-6",id:"inp_fund"},f=l((function(){return(0,s._)("option",{disabled:"",value:"0",selected:""},"Please select fund",-1)})),b=["value"],h=l((function(){return(0,s._)("p",{id:"p_ors_number",style:{display:"none"},class:"error_msg"},"ORS Number is required!",-1)})),y=(0,s.uE)('<div class="col-lg-6 custom-margin-top" data-v-6d6908ca><label for="inp_type" class="col-lg-12 control-label" data-v-6d6908ca>Type:</label><select class="select2-single form-control" id="inp_type" data-v-6d6908ca><option disabled value="0" selected data-v-6d6908ca>Please select type</option><option value="ps" data-v-6d6908ca>Personnel Services (PS)</option><option value="mooe" data-v-6d6908ca>Maintenance and Other Operating Expenses (MOOE)</option><option value="sr" data-v-6d6908ca>Special</option></select><p id="p_type" style="display:none;" class="error_msg" data-v-6d6908ca>Type is required!</p></div><div class="col-lg-12 custom-margin-top" data-v-6d6908ca><label for="inp_short_desc" class="col-lg-12 control-label" data-v-6d6908ca>Short Description (Title):</label><input type="text" id="inp_short_desc" class="form-control" placeholder="Enter Short Description" data-v-6d6908ca><p id="p_title" style="display:none;" class="error_msg" data-v-6d6908ca>Title is required!</p></div><div class="col-lg-6 custom-margin-top" data-v-6d6908ca><label for="inp_gross_amount" class="col-lg-12 control-label" data-v-6d6908ca>Gross Amount:</label><input type="number" id="inp_gross_amount" class="form-control" placeholder="Enter Gross Amount" min="0.00" value="0.00" data-v-6d6908ca><p id="p_gross_amount" style="display:none;" class="error_msg" data-v-6d6908ca>Gross Amount is required! </p></div><div class="col-lg-6 custom-margin-top" data-v-6d6908ca><label for="inpDateIssued" class="col-lg-12 control-label" data-v-6d6908ca>Date Issued:</label><div class="admin-form" data-v-6d6908ca><label for="datepicker1" class="field prepend-icon" data-v-6d6908ca><input type="text" id="inpDateIssued" name="inpDateIssued" class="gui-input" placeholder="Enter date of transaction" readonly data-v-6d6908ca><label class="field-icon" data-v-6d6908ca><i class="fa fa-calendar-o" data-v-6d6908ca></i></label></label><p id="p_date_issued" style="display:none;" class="error_msg" data-v-6d6908ca>Date Issued is required! </p></div></div>',4),w={class:"col-lg-6 custom-margin-top"},S=l((function(){return(0,s._)("label",{for:"inp_region",class:"col-lg-12 control-label"},"Requesting Office:",-1)})),D={class:"select2-single form-control",id:"inp_region"},U=l((function(){return(0,s._)("option",{disabled:"",value:"0",selected:""},"Please select region",-1)})),E=["value"],R=l((function(){return(0,s._)("p",{id:"p_region",style:{display:"none"},class:"error_msg"},"Requesting Region is required! ",-1)})),x=(0,s.uE)('<div class="col-lg-6 custom-margin-top" data-v-6d6908ca><label for="inp_df_number" class="col-lg-12 control-label" data-v-6d6908ca>DF Number (Optional):</label><input type="text" id="inp_df_number" class="form-control" placeholder="Enter DF Number" data-v-6d6908ca></div><div class="col-lg-12 custom-margin-top" data-v-6d6908ca><label for="inp_remarks" class="col-lg-12 control-label" data-v-6d6908ca>Remarks:</label><div class="admin-form" data-v-6d6908ca><section data-v-6d6908ca><label class="field prepend-icon" data-v-6d6908ca><textarea class="gui-textarea" id="inp_remarks" name="comment" placeholder="Enter your remarks here..." data-v-6d6908ca></textarea><label for="comment" class="field-icon" data-v-6d6908ca><i class="fa fa-comments" data-v-6d6908ca></i></label><span class="input-footer" data-v-6d6908ca><strong data-v-6d6908ca>Hint:</strong> You may provide the long description in this section.</span></label></section></div></div><div class="col-lg-12" data-v-6d6908ca><button type="button" id="btnSaveNewDetails" class="btn btn-lg btn-success pull-right" style="margin-top:23px;" data-v-6d6908ca><i class="fa fa-floppy-o" data-v-6d6908ca></i> Save Details </button></div>',3),A={class:"col-md-6"},C={class:"form-group"},k={class:"row",style:{"margin-top":"1%"}},L={class:"panel panel-visible panel-warning",id:"spy2"},q=l((function(){return(0,s._)("br",null,null,-1)})),O=l((function(){return(0,s._)("div",{class:"panel-heading"},[(0,s._)("div",{class:"panel-title hidden-xs"},[(0,s._)("span",{class:"fa fa-sitemap"}),(0,s.Uk)("ORS Breakdown (Per UACS) ")])],-1)})),F={class:"panel-body pn"},P={class:"row",style:{margin:"1%"}},T={class:"col-md-8"},z=l((function(){return(0,s._)("label",{for:"inp_uacs",class:"col-lg-12 control-label"},"UACS: ",-1)})),Y={class:"select2-single form-control",id:"inp_uacs"},I=l((function(){return(0,s._)("option",{disabled:"",value:"0",selected:""},"Please select UACS",-1)})),N=["value"],G=l((function(){return(0,s._)("p",{id:"p_ors_number",style:{display:"none"},class:"error_msg"},"ORS Number is required!",-1)})),H=(0,s.uE)('<div class="col-md-4" data-v-6d6908ca><label for="inp_uacs_amount" class="col-lg-12 control-label" data-v-6d6908ca>Gross Amount:</label><input type="number" id="inp_uacs_amount" class="form-control" placeholder="Enter Gross Amount" min="0.00" value="0.00" data-v-6d6908ca></div><div class="col-md-12" style="margin-top:24px;" data-v-6d6908ca><button id="btnAddUacs" class="btn btn-lg btn-system pull-right" data-v-6d6908ca><i class="fa fa-plus" data-v-6d6908ca></i>Â Add UACS</button></div>',2),Z={class:"col-md-12"},M={class:"table table-bordered mbn",cellspacing:"0",width:"100"},B=l((function(){return(0,s._)("thead",null,[(0,s._)("tr",null,[(0,s._)("th",{style:{"text-align":"center"}},"UACS Code"),(0,s._)("th",{style:{"text-align":"center"}},"UACS Desc"),(0,s._)("th",{style:{"text-align":"center"}},"Amount"),(0,s._)("th",{style:{"text-align":"center"}},"Action")])],-1)})),K=l((function(){return(0,s._)("td",null,[(0,s._)("button",{"data-action":"btndeleteUacs",id:"item.uacs_code",class:"btn btn-md btn-danger pull-right"},[(0,s._)("i",{class:"fa fa-trash"})])],-1)}));t(6455);var V=t(860),W=t(475);const j={mixins:[V.Z,W.Z],data:function(){return{aRegionList:[],aUacsList:[],aFundCluster:[],aSelectedUacs:[],aFilteredUacs:[],bFormValid:!1}},mounted:function(){this.initPlugins(),this.initEventListeners(),this.getRegionList(),this.getUacsList(),this.getFundCluster()},methods:{initPlugins:function(){$(".select2-single").select2(),$("#inpDateIssued").datepicker({prevText:'<i class="fa fa-chevron-left"></i>',nextText:'<i class="fa fa-chevron-right"></i>',showButtonPanel:!1,beforeShow:function(a,e){var t=$(this).parents(".admin-form").attr("class");e.dpDiv.parent().hasClass(t)||e.dpDiv.wrap('<div class="'+t+'"></div>')}})},initEventListeners:function(){var a=this;document.body.addEventListener("click",(function(e){e.preventDefault(),"btnSaveNewDetails"===e.target.id&&a.processEntries(),"btnAddUacs"===e.target.id&&a.addSelectedUacs()}),!1)},addSelectedUacs:function(){var a=this,e=$("#inp_uacs").val(),t=$("#inp_uacs_amount").val(),s=this.aUacsList.filter((function(a){return a.uacs_id==e}));this.aSelectedUacs.push({uacs:s[0],amount:t}),console.log(this.aSelectedUacs),setTimeout((function(){a.initUacsSelectionTable()}),500)},getUacsList:function(){var a=this;this.getRequest("uacs/get-list",(function(e){a.aUacsList=e.data}))},getRegionList:function(){var a=this;this.getRequest("region/get-list",(function(e){a.aRegionList=e.data}))},getFundCluster:function(){var a=this;this.getRequest("fund-cluster/get-list",(function(e){a.aFundCluster=e.data}))},processEntries:function(){this.validateEntries(),!0===this.bFormValid?this.saveEntries():this.showErrorAlert("Please double check and correct all your entries!")},initUacsSelectionTable:function(){document.body.addEventListener("click",(function(a){a.preventDefault(),"btndeleteUacs"===a.target.dataset.action&&console.log(a)}),!1)},validateEntries:function(){var a=!0;""===$("#inp_ors_number").val()&&($("#p_ors_number").css("display",""),a=!1),null===$("#inp_fund").val()&&($("#p_fund").css("display",""),a=!1),null===$("#inp_type").val()&&($("#p_type").css("display",""),a=!1),""===$("#inpDateIssued").val()&&($("#p_date_issued").css("display",""),a=!1),""===$("#inp_short_desc").val()&&($("#p_title").css("display",""),a=!1);var e=$("#inp_gross_amount").val();console.log(e),""===e&&($("#p_gross_amount").css("display",""),a=!1),parseFloat(e)<=0&&($("#p_gross_amount").css("display",""),$("#p_gross_amount").text("Gross amount must not be zero!"),a=!1),null===$("#inp_region").val()&&($("#p_region").css("display",""),a=!1),this.bFormValid=a},saveEntries:function(){var a=this,e={fc_id:$("#inp_fund").val(),ors_no:$("#inp_ors_number").val(),ors_issue_date:this.convertDateFormat($("#inpDateIssued").val(),"YYYY-MM-DD"),fs_type:$("#inp_type").val(),fs_desc:$("#inp_short_desc").val(),fs_gross_amount:$("#inp_gross_amount").val(),remarks:$("#inp_remarks").val(),df_ref_no:$("#inp_df_number").val(),region_id:$("#inp_region").val(),selected_uacs:this.aSelectedUacs};this.postRequest("bdgt/create-fund-source",e,(function(e){a.showSuccessAlert("Successfully saved your ORS entry"),setTimeout((function(){window.location.reload()}),1e3)}))}}};var J=t(3379),Q=t.n(J),X=t(4956),aa={insert:"head",singleton:!1};Q()(X.Z,aa);X.Z.locals;const ea=(0,t(3744).Z)(j,[["render",function(a,e,t,l,$,V){var W=(0,s.up)("C_Layout_Header"),j=(0,s.up)("C_Layout_BDGT_Sidebar");return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s.Wm)(W),(0,s.Wm)(j),(0,s._)("section",n,[i,(0,s._)("div",c,[o,(0,s._)("div",d,[(0,s._)("div",r,[(0,s._)("div",u,[(0,s._)("div",p,[_,(0,s._)("div",v,[m,(0,s._)("select",g,[f,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)($.aFundCluster,(function(a){return(0,s.wg)(),(0,s.iD)("option",{value:a.fc_id},(0,s.zw)(a.fc_desc)+" ("+(0,s.zw)(a.fc_code)+")",9,b)})),256))]),h]),y,(0,s._)("div",w,[S,(0,s._)("select",D,[U,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)($.aRegionList,(function(a){return(0,s.wg)(),(0,s.iD)("option",{value:a.region_id},(0,s.zw)(a.region_abbr)+" ("+(0,s.zw)(a.region_desc)+")",9,E)})),256))]),R]),x])])]),(0,s._)("div",A,[(0,s._)("div",C,[(0,s._)("div",k,[(0,s._)("div",L,[q,O,(0,s._)("div",F,[(0,s._)("div",P,[(0,s._)("div",T,[z,(0,s._)("select",Y,[I,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)($.aUacsList,(function(a){return(0,s.wg)(),(0,s.iD)("option",{value:a.uacs_id},(0,s.zw)(a.uacs_code)+": "+(0,s.zw)(a.uacs_acc_title),9,N)})),256))]),G]),H]),(0,s._)("div",Z,[(0,s._)("table",M,[B,(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)($.aSelectedUacs,(function(a){return(0,s.wg)(),(0,s.iD)("tr",null,[(0,s._)("td",null,(0,s.zw)(a.uacs.uacs_code),1),(0,s._)("td",null,(0,s.zw)(a.uacs.uacs_acc_title),1),(0,s._)("td",null,(0,s.zw)(a.amount),1),K])})),256))])])])])])])])])])])])],64)}],["__scopeId","data-v-6d6908ca"]])}}]);