"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[1154],{1627:(e,t,a)=>{a.d(t,{Z:()=>l});var s=a(3645),i=a.n(s)()((function(e){return e[1]}));i.push([e.id,".error_msg[data-v-5d798e1b],.error_msg_edit[data-v-5d798e1b]{color:red!important}",""]);const l=i},1154:(e,t,a)=>{a.r(t),a.d(t,{default:()=>De});var s=a(821),i=function(e){return(0,s.dD)("data-v-5d798e1b"),e=e(),(0,s.Cn)(),e},l={id:"content_wrapper"},n=(0,s.uE)('<header id="topbar" class="alt" data-v-5d798e1b><div class="topbar-left" data-v-5d798e1b><ol class="breadcrumb" data-v-5d798e1b><li class="crumb-trail" data-v-5d798e1b> System Management </li><li class="crumb-active" data-v-5d798e1b><a data-v-5d798e1b>Account Management</a></li></ol></div></header><div class="panel-heading" data-v-5d798e1b><span class="panel-title" data-v-5d798e1b>Account Management</span></div>',2),r={class:"panel"},d={class:"panel-body"},o={key:0,class:"panel panel-colorbox-open panel-system",id:"spy2"},c=i((function(){return(0,s._)("br",null,null,-1)})),p=i((function(){return(0,s._)("div",{class:"panel-heading"},[(0,s._)("div",{class:"panel-title hidden-xs"},[(0,s._)("span",{class:"fa fa-plus-square-o"}),(0,s.Uk)("Add New User Account ")])],-1)})),_={class:"panel-body pn"},u={class:"form-group"},v={class:"row",style:{margin:"1%"}},g=(0,s.uE)('<div class="col-lg-3" data-v-5d798e1b><label for="inp_emp_id" class="col-lg-12 control-label" data-v-5d798e1b>Employee Id:</label><input type="text" id="inp_emp_id" class="form-control" placeholder="Enter Employee Id" data-v-5d798e1b><p id="p_emp_id" style="display:none;" class="error_msg" data-v-5d798e1b>Employee Id is required! </p></div><div class="col-lg-3" data-v-5d798e1b><label for="inp_firstname" class="col-lg-12 control-label" data-v-5d798e1b>First Name</label><input type="text" id="inp_firstname" class="form-control" placeholder="Enter First Name" data-v-5d798e1b><p id="p_firstname" style="display:none;" class="error_msg" data-v-5d798e1b>First name is required! </p></div><div class="col-lg-3" data-v-5d798e1b><label for="inp_lastname" class="col-lg-12 control-label" data-v-5d798e1b>Last Name</label><input type="text" id="inp_lastname" class="form-control" placeholder="Enter Last Name" data-v-5d798e1b><p id="p_lastname" style="display:none;" class="error_msg" data-v-5d798e1b>Last name is required! </p></div><div class="col-lg-3" data-v-5d798e1b><label for="inp_username" class="col-lg-12 control-label" data-v-5d798e1b>Username</label><input type="text" id="inp_username" class="form-control" placeholder="Enter Username" data-v-5d798e1b><p id="p_username" style="display:none;" class="error_msg" data-v-5d798e1b>Username is required! </p></div><div class="col-lg-5" style="margin-top:15px;" data-v-5d798e1b><label for="inp_password" class="col-lg-12 control-label" data-v-5d798e1b>Password</label><input type="password" id="inp_password" class="form-control" placeholder="Enter Password" data-v-5d798e1b><p id="p_password" style="display:none;" class="error_msg" data-v-5d798e1b>Password is required! </p></div>',5),f={class:"col-lg-2",style:{"margin-top":"15px"}},b=i((function(){return(0,s._)("label",{for:"inp_usertype",class:"col-lg-12 control-label"},"User Type",-1)})),m={class:"select2-single form-control usertype-select",id:"inp_usertype"},y=i((function(){return(0,s._)("option",{disabled:"",value:"0",selected:""},"Please select type",-1)})),h=["value"],w=i((function(){return(0,s._)("p",{id:"p_usertype",style:{display:"none"},class:"error_msg"},"UserType is required! ",-1)})),x={class:"col-lg-3",style:{"margin-top":"15px"}},U=i((function(){return(0,s._)("label",{for:"inp_office",class:"col-lg-12 control-label"},"Assigned Office",-1)})),E={class:"select2-single form-control office-select",id:"inp_office"},D=i((function(){return(0,s._)("option",{disabled:"",value:"0",selected:""},"Please select office",-1)})),L=["value"],T=i((function(){return(0,s._)("p",{id:"p_office",style:{display:"none"},class:"error_msg"},"Office is required! ",-1)})),A=i((function(){return(0,s._)("div",{class:"col-lg-2",style:{"margin-top":"15px"}},[(0,s._)("button",{type:"button",id:"btnSaveNewDetails",class:"btn btn-block btn-success",style:{"margin-right":"7%","margin-top":"21px","font-size":"16px"}},[(0,s._)("i",{class:"fa fa-floppy-o"}),(0,s.Uk)(" Save ")])],-1)})),R={key:1,class:"panel panel-colorbox-open panel-warning"},k=i((function(){return(0,s._)("br",null,null,-1)})),q=i((function(){return(0,s._)("div",{class:"panel-heading"},[(0,s._)("div",{class:"panel-title hidden-xs"},[(0,s._)("span",{class:"fa fa-pencil-square-o"}),(0,s.Uk)("Update Existing User Account ")])],-1)})),C={class:"panel-body pn"},S={class:"form-group"},P={class:"row",style:{margin:"1%"}},z=(0,s.uE)('<div class="col-lg-3" data-v-5d798e1b><label for="inp_emp_id_edit" class="col-lg-12 control-label" data-v-5d798e1b>Employee Id:</label><input type="text" id="inp_emp_id_edit" class="form-control" placeholder="Enter Employee Id" data-v-5d798e1b><p id="p_emp_id_edit" style="display:none;" class="error_msg_edit" data-v-5d798e1b>Employee Id is required! </p></div><div class="col-lg-3" data-v-5d798e1b><label for="inp_firstname_edit" class="col-lg-12 control-label" data-v-5d798e1b>First Name</label><input type="text" id="inp_firstname_edit" class="form-control" placeholder="Enter First Name" data-v-5d798e1b><p id="p_firstname_edit" style="display:none;" class="error_msg_edit" data-v-5d798e1b>First name is required! </p></div><div class="col-lg-3" data-v-5d798e1b><label for="inp_lastname_edit" class="col-lg-12 control-label" data-v-5d798e1b>Last Name</label><input type="text" id="inp_lastname_edit" class="form-control" placeholder="Enter Last Name" data-v-5d798e1b><p id="p_lastname_edit" style="display:none;" class="error_msg_edit" data-v-5d798e1b>Last name is required! </p></div><div class="col-lg-3" data-v-5d798e1b><label for="inp_username_edit" class="col-lg-12 control-label" data-v-5d798e1b>Username</label><input type="text" id="inp_username_edit" class="form-control" placeholder="Enter Username" data-v-5d798e1b><p id="p_username_edit" style="display:none;" class="error_msg_edit" data-v-5d798e1b>Username is required! </p></div><div class="col-lg-5" style="margin-top:15px;" data-v-5d798e1b><label for="inp_password_edit" class="col-lg-12 control-label" data-v-5d798e1b>Password</label><input type="password" id="inp_password_edit" class="form-control" placeholder="Enter Password" data-v-5d798e1b><p id="p_password_edit" style="display:none;" class="error_msg_edit" data-v-5d798e1b>Password is required! </p></div>',5),N={class:"col-lg-2",style:{"margin-top":"15px"}},I=i((function(){return(0,s._)("label",{for:"inp_usertype_edit",class:"col-lg-12 control-label"},"User Type",-1)})),Y={class:"select2-single form-control usertype-select_edit",id:"inp_usertype_edit"},H=i((function(){return(0,s._)("option",{disabled:"",value:"0",selected:""},"Please select type",-1)})),F=["value"],O=i((function(){return(0,s._)("p",{id:"p_usertype_edit",style:{display:"none"},class:"error_msg_edit"},"UserType is required! ",-1)})),Z={class:"col-lg-3",style:{"margin-top":"15px"}},B=i((function(){return(0,s._)("label",{for:"inp_office_edit",class:"col-lg-12 control-label"},"Assigned Office",-1)})),K={class:"select2-single form-control office-select_edit",id:"inp_office_edit"},M=i((function(){return(0,s._)("option",{disabled:"",value:"0",selected:""},"Please select office",-1)})),W=["value"],j=i((function(){return(0,s._)("p",{id:"p_office_edit",style:{display:"none"},class:"error_msg_edit"},"Office is required! ",-1)})),G=(0,s.uE)('<div class="col-lg-2" data-v-5d798e1b><button type="button" id="btnSaveUpdate" class="btn btn-md btn-success" style="margin-right:0px;margin-top:38px;" data-v-5d798e1b><i class="fa fa-pencil-square-o" data-v-5d798e1b></i> Update </button> Â  <button type="button" id="btnCancelUpdate" class="btn btn-md btn-default" style="margin-right:0px;margin-top:38px;" data-v-5d798e1b><i class="fa fa-times" data-v-5d798e1b></i> Cancel </button></div>',1),J={class:"panel panel-colorbox-open panel-dark",id:"spy2"},Q=i((function(){return(0,s._)("br",null,null,-1)})),V=i((function(){return(0,s._)("div",{class:"panel-heading"},[(0,s._)("div",{class:"panel-title hidden-xs"},[(0,s._)("span",{class:"fa fa-list"}),(0,s.Uk)("List of User Accounts ")])],-1)})),X={class:"panel-body pn"},ee={class:"table table-striped table-hover",id:"tbl_records",cellspacing:"0",width:"100%"},te=i((function(){return(0,s._)("thead",null,[(0,s._)("tr",null,[(0,s._)("th",{style:{"text-align":"center"}},"SysId"),(0,s._)("th",{style:{"text-align":"center"}},"Username"),(0,s._)("th",{style:{"text-align":"center"}},"Emp Id"),(0,s._)("th",{style:{"text-align":"center"}},"Office"),(0,s._)("th",{style:{"text-align":"center"}},"Type"),(0,s._)("th",{style:{"text-align":"center"}},"Active"),(0,s._)("th",{style:{"text-align":"center"}},"Date Created"),(0,s._)("th",{style:{"text-align":"center"}},"Last Modified"),(0,s._)("th",{style:{"text-align":"center"}},"Action")])],-1)})),ae={style:{"text-align":"center"}},se={style:{"text-align":"left"}},ie={style:{"text-align":"left"}},le={style:{"text-align":"left"}},ne={style:{"text-align":"center"}},re={style:{"text-align":"center"}},de={style:{"text-align":"center"}},oe={style:{"text-align":"center"}},ce={style:{"text-align":"left"},width:"20%"},pe=["data-id"],_e=i((function(){return(0,s._)("i",{class:"fa fa-pencil-square-o"},null,-1)})),ue=["data-id"],ve=i((function(){return(0,s._)("i",{class:"fa fa-check-circle-o"},null,-1)})),ge=["data-id"],fe=i((function(){return(0,s._)("i",{class:"fa fa-times"},null,-1)}));var be=a(6455),me=a.n(be),ye=a(860),he=a(475);const we={mixins:[ye.Z,he.Z],data:function(){return{aTableConfig:{aaSorting:[[0,"asc"]],aoColumnDefs:[{bSortable:!1,aTargets:[5]}],oLanguage:{oPaginate:{sPrevious:"",sNext:""}},iDisplayLength:10,aLengthMenu:[[5,10,25,50,-1],[5,10,25,50,"All"]],sDom:'<"dt-panelmenu clearfix"lfr>t<"dt-panelfooter clearfix"ip>',oTableTools:{sSwfPath:"vendor/plugins/datatables/extensions/TableTools/swf/copy_csv_xls_pdf.swf"}},aUserTypes:[{code:"sdor",desc:"SDO"},{code:"actg",desc:"Accounting"},{code:"bdgt",desc:"Budget"},{code:"cash",desc:"Cash"}],aRecordList:[],aRegionList:[],iActiveRecord:0,bUpdateData:!1}},mounted:function(){this.getRecordList(),this.getRegionList(),this.initPlugins(),this.initEventListeners()},methods:{initPlugins:function(){$(".usertype-select").select2()},initEventListeners:function(){var e=this;document.body.addEventListener("click",(function(t){t.preventDefault(),"btnSaveNewDetails"===t.target.id&&e.saveEntries(),"btnSaveUpdate"===t.target.id&&e.updateEntries(),"btnCancelUpdate"===t.target.id&&(e.clearUpdateEntries(),e.bUpdateData=!1),"editDetails"===t.target.dataset.action&&(e.clearCreateEntries(),e.bUpdateData=!0,e.iActiveRecord=t.target.dataset.id,setTimeout((function(){e.getDetailsToEdit()}),100)),"activateUser"===t.target.dataset.action&&e.changeUserStatus(t.target.dataset.id,"active"),"deactivateUser"===t.target.dataset.action&&e.changeUserStatus(t.target.dataset.id,"deactivated")}),!1)},getDetailsToEdit:function(){var e=this,t=this.aRecordList.filter((function(t){return t.user_id==e.iActiveRecord}));$("#inp_emp_id_edit").val(t[0].employee_id),$("#inp_firstname_edit").val(t[0].firstname),$("#inp_lastname_edit").val(t[0].lastname),$("#inp_username_edit").val(t[0].username),$(".office-select_edit").select2().val(t[0].region_id).trigger("change"),$(".usertype-select_edit").select2().val(t[0].user_type).trigger("change")},getRegionList:function(){var e=this;this.getRequest("region/get-list",(function(t){e.aRegionList=t.data,$(".office-select").select2()}))},getRecordList:function(){var e=this,t=this;this.getRequest("user/get-all",(function(a){e.aRecordList=a.data,setTimeout((function(){t.initTblRecords()}),500)}))},initTblRecords:function(){$("#tbl_records").DataTable(this.aTableConfig),$(".dataTables_filter input").attr("placeholder","Enter Terms...")},validateEntries:function(e){var t=!0,a="create"===e?"#p_emp_id":"#p_emp_id_edit";""===$("create"===e?"#inp_emp_id":"#inp_emp_id_edit").val()&&($(a).css("display",""),t=!1);var s="create"===e?"#p_firstname":"#p_firstname_edit";""===$("create"===e?"#inp_firstname":"#inp_firstname_edit").val()&&($(s).css("display",""),t=!1);var i="create"===e?"#p_lastname":"#p_lastname_edit";""===$("create"===e?"#inp_lastname":"#inp_lastname_edit").val()&&($(i).css("display",""),t=!1);var l="create"===e?"#p_username":"#p_username_edit";""===$("create"===e?"#inp_username":"#inp_username_edit").val()&&($(l).css("display",""),t=!1);""===$("#inp_password").val()&&($("#p_password").css("display",""),t=!1);var n="create"===e?"#p_usertype":"#p_usertype_edit";null===$("create"===e?"#inp_usertype":"#inp_usertype_edit").val()&&($(n).css("display",""),t=!1);var r="create"===e?"#p_office":"#p_office_edit";return null===$("create"===e?"#inp_office":"#inp_office_edit").val()&&($(r).css("display",""),t=!1),t},clearCreateEntries:function(){$("#inp_emp_id").val(""),$("#inp_firstname").val(""),$("#inp_lastname").val(""),$("#inp_username").val(""),$("#inp_password").val(""),$(".office-select").select2().val(0).trigger("change"),$(".usertype-select").select2().val(0).trigger("change"),$(".error_msg").css("display","none")},clearUpdateEntries:function(){$("#inp_emp_id_edit").val(""),$("#inp_firstname_edit").val(""),$("#inp_lastname_edit").val(""),$("#inp_username_edit").val(""),$("#inp_password_edit").val(""),$(".office-select_edit").select2().val(0).trigger("change"),$(".usertype-select_edit").select2().val(0).trigger("change"),$(".error_msg_edit").css("display","none")},saveEntries:function(){var e=this,t=this,a={employee_id:$("#inp_emp_id").val(),firstname:$("#inp_firstname").val(),lastname:$("#inp_lastname").val(),username:$("#inp_username").val(),password:$("#inp_password").val(),user_type:$("#inp_usertype").val(),region_id:$("#inp_office").val()};$(".error_msg").css("display","none"),!0===this.validateEntries("create")?this.postRequest("user/create",a,(function(a){e.showSuccessAlert("Successfully saved your entry"),t.clearCreateEntries(),$("#tbl_records").DataTable().destroy(),t.getRecordList()})):this.showErrorAlert("Please double check and correct all your entries!")},updateEntries:function(){var e=this,t=this,a={employee_id:$("#inp_emp_id_edit").val(),firstname:$("#inp_firstname_edit").val(),lastname:$("#inp_lastname_edit").val(),username:$("#inp_username_edit").val(),password:$("#inp_password_edit").val(),user_type:$("#inp_usertype_edit").val(),region_id:$("#inp_office_edit").val()};$(".error_msg_edit").css("display","none"),!0===this.validateEntries("update")?this.postRequest("user/update/"+this.iActiveRecord,a,(function(a){e.showSuccessAlert(a.message),$(".error_msg_edit").css("display","none"),$("#tbl_records").DataTable().destroy(),t.getRecordList()})):(this.showErrorAlert("Please double check and correct all your entries!"),this.getDetailsToEdit(this.iActiveRecord))},changeUserStatus:function(e,t){var a=this,s=this,i="active"===t?"You understand that by activating this user can allow him/her to operate the system based on his/her account type. Are sure you want to proceed?":"You understand that by deactivating this user, his/her access in the system will be revoked. Are you sure you want to proceed?",l="active"===t?"Activate":"Deactivate",n="active"===t?"#00a623":"#d33";me().fire({title:"Confirmation",text:i,icon:"warning",showCancelButton:!0,confirmButtonColor:n,cancelButtonColor:"#c7baba",confirmButtonText:l}).then((function(i){i.isConfirmed&&a.postRequest("user/update/"+e,{status:t},(function(e){a.showSuccessAlert(e.message),$("#tbl_records").DataTable().destroy(),s.getRecordList()}))}))}}};var $e=a(3379),xe=a.n($e),Ue=a(1627),Ee={insert:"head",singleton:!1};xe()(Ue.Z,Ee);Ue.Z.locals;const De=(0,a(3744).Z)(we,[["render",function(e,t,a,i,$,be){var me=(0,s.up)("C_Layout_Header"),ye=(0,s.up)("C_Layout_SYSA_Sidebar");return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s.Wm)(me),(0,s.Wm)(ye),(0,s._)("section",l,[n,(0,s._)("div",r,[(0,s._)("div",d,[!1===$.bUpdateData?((0,s.wg)(),(0,s.iD)("div",o,[c,p,(0,s._)("div",_,[(0,s._)("div",u,[(0,s._)("div",v,[g,(0,s._)("div",f,[b,(0,s._)("select",m,[y,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)($.aUserTypes,(function(e){return(0,s.wg)(),(0,s.iD)("option",{value:e.code},(0,s.zw)(e.desc),9,h)})),256))]),w]),(0,s._)("div",x,[U,(0,s._)("select",E,[D,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)($.aRegionList,(function(e){return(0,s.wg)(),(0,s.iD)("option",{value:e.region_id},(0,s.zw)(e.region_abbr)+" ("+(0,s.zw)(e.region_desc)+")",9,L)})),256))]),T]),A])])])])):((0,s.wg)(),(0,s.iD)("div",R,[k,q,(0,s._)("div",C,[(0,s._)("div",S,[(0,s._)("div",P,[z,(0,s._)("div",N,[I,(0,s._)("select",Y,[H,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)($.aUserTypes,(function(e){return(0,s.wg)(),(0,s.iD)("option",{value:e.code},(0,s.zw)(e.desc),9,F)})),256))]),O]),(0,s._)("div",Z,[B,(0,s._)("select",K,[M,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)($.aRegionList,(function(e){return(0,s.wg)(),(0,s.iD)("option",{value:e.region_id},(0,s.zw)(e.region_abbr)+" ("+(0,s.zw)(e.region_desc)+")",9,W)})),256))]),j]),G])])])])),(0,s._)("div",J,[Q,V,(0,s._)("div",X,[(0,s._)("table",ee,[te,(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)($.aRecordList,(function(t){return(0,s.wg)(),(0,s.iD)("tr",null,[(0,s._)("td",ae,(0,s.zw)(t.temp_id),1),(0,s._)("td",se,(0,s.zw)(t.username),1),(0,s._)("td",ie,(0,s.zw)(t.employee_id),1),(0,s._)("td",le,(0,s.zw)(t.region_abbr),1),(0,s._)("td",ne,(0,s.zw)(t.user_type),1),(0,s._)("td",re,(0,s.zw)(t.status),1),(0,s._)("td",de,(0,s.zw)(e.nullCheck(t.date_created,"date")),1),(0,s._)("td",oe,(0,s.zw)(e.nullCheck(t.date_modified,"date")),1),(0,s._)("td",ce,[(0,s._)("button",{type:"button","data-action":"editDetails","data-id":t.user_id,class:"btn btn-md btn-warning editDetails",style:{"margin-left":"20px","margin-right":"10px"}},[_e,(0,s.Uk)(" Edit ")],8,pe),"deactivated"===t.status?((0,s.wg)(),(0,s.iD)("button",{key:0,type:"button","data-action":"activateUser","data-id":t.user_id,class:"btn btn-md btn-success activateUser"},[ve,(0,s.Uk)(" Activate ")],8,ue)):((0,s.wg)(),(0,s.iD)("button",{key:1,type:"button","data-action":"deactivateUser","data-id":t.user_id,class:"btn btn-md btn-danger deactivateUser"},[fe,(0,s.Uk)(" Deactivate ")],8,ge))])])})),256))])])])])])])])],64)}],["__scopeId","data-v-5d798e1b"]])}}]);