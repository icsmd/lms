"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[117],{4901:(e,t,a)=>{a.d(t,{Z:()=>n});a(381);const n={mixins:[a(860).Z],data:function(){return{aTableConfig:{aaSorting:[[0,"desc"]],aoColumnDefs:[{bSortable:!0,aTargets:[-1]}],oLanguage:{oPaginate:{sPrevious:"",sNext:""}},iDisplayLength:10,aLengthMenu:[[5,10,25,50,-1],[5,10,25,50,"All"]],sDom:'<"dt-panelmenu clearfix"lfr>t<"dt-panelfooter clearfix"ip>',oTableTools:{sSwfPath:"vendor/plugins/datatables/extensions/TableTools/swf/copy_csv_xls_pdf.swf"}},aFundSource:[],aFsStatuses:[{id:"OPEN",desc:"Open"},{id:"FOR ORS REV",desc:"Ongoing Revision for ORS"},{id:"FOR DV",desc:"For DV Issuance"},{id:"FOR DEV REV",desc:"Ongoing Revision for DV"},{id:"FOR PO",desc:"For Payout Issuance"},{id:"RELEASED",desc:"Released"},{id:"CLEARED",desc:"Cleared"}],aRegions:[],sRedirectUrl:"",sDefaultStatus:""}},mounted:function(){this.initPlugins(),this.initTableData(),this.initEventListeners(),this.getRegions()},methods:{initPlugins:function(){$(".status-select").select2(),$(".status-select").select2().val(this.sDefaultStatus).trigger("change"),$(".region-select").select2(),$(".region-select").select2().val(0).trigger("change"),$("#inpMonthYearCreated").monthpicker({changeYear:!1,stepYears:1,prevText:'<i class="fa fa-chevron-left"></i>',nextText:'<i class="fa fa-chevron-right"></i>',showButtonPanel:!0,beforeShow:function(e,t){var a=$(this).parents(".admin-form").attr("class");t.dpDiv.parent().hasClass(a)||t.dpDiv.wrap('<div class="'+a+'"></div>')}})},initTblFundSource:function(){$("#tbl_fund_source").DataTable(this.aTableConfig),$(".dataTables_filter input").attr("placeholder","Enter Terms...")},initTableData:function(){var e=this.convertDateFormat(new Date,"MM/YYYY");$("#inpMonthYearCreated").val(e);var t=e.split("/");this.getFundSource({fs_status:$("#inp_status").val(),date_month_created:t[0],date_year_created:t[1]})},initEventListeners:function(){var e=this;document.body.addEventListener("click",(function(t){t.preventDefault(),"href"===t.target.dataset.attr&&(window.location.href=t.target.href+e.sSheetFundType),"btnFilterTable"===t.target.id&&e.filterTable()}),!1)},filterTable:function(){var e=$("#inpMonthYearCreated").val(),t=$("#inp_region").val();if(console.log(t),""===e)this.showErrorAlert("Date (Month and Year) is Required!");else{var a=e.split("/"),n={fs_status:$("#inp_status").val(),date_month_created:a[0],date_year_created:a[1]};0!=t&&(n=Object.assign({},n,{region_id:t})),console.log(n),this.getFundSource(n)}},initTableEventListener:function(){var e=this;document.body.addEventListener("click",(function(t){t.preventDefault(),"viewDetails"===t.target.dataset.attr&&(window.location.href=e.sRedirectUrl+t.target.dataset.fs_id)}),!1)},getDateModified:function(e){return null===e?"---":this.convertDateFormat(e,"DD-MMM-YY H:mm:ss")},getRegions:function(){var e=this;this.getRequest("region/get-list",(function(t){e.aRegions=t.data}))},getFundSource:function(e){var t=this,a=this;this.getRequest("bdgt/get-fund-source",(function(e){t.aFundSource=e.data,!0===$.fn.dataTable.isDataTable("#tbl_fund_source")&&$("#tbl_fund_source").DataTable().destroy(),setTimeout((function(){a.initTblFundSource()}),500),setTimeout((function(){a.initTableEventListener()}),500)}),e)}}}},3117:(e,t,a)=>{a.r(t),a.d(t,{default:()=>q});var n=a(821),i={id:"content_wrapper"},s=(0,n.uE)('<header id="topbar" class="alt"><div class="topbar-left"><ol class="breadcrumb"><li class="crumb-trail"> Budget Management </li><li class="crumb-active"><a>Manage ORS</a></li></ol></div></header>',1),l={class:"panel"},r=(0,n._)("div",{class:"panel-heading"},[(0,n._)("span",{class:"panel-title"},"View ORS/DV Records")],-1),o={class:"panel-body"},d={class:"form-group",id:"divInpTransactMY",style:{margin:"1%"}},c={class:"admin-form mw1000 left-block"},u=(0,n.uE)('<div class="col-md-3"><label for="inp_region" style="margin-bottom:2%;"><b>Date Created: (Month &amp; Year)</b></label><label for="inpMonthYearCreated" class="field prepend-icon"><input type="text" id="inpMonthYearCreated" name="inpMonthYearCreated" class="gui-input" placeholder="Enter month and year" readonly><label class="field-icon"><i class="fa fa-calendar-o"></i></label></label></div>',1),g={class:"col-md-3"},_=(0,n._)("label",{for:"inp_region",style:{"margin-bottom":"2%"}},[(0,n._)("b",null,"Office:")],-1),f=(0,n._)("option",{value:"0",selected:""},"ALL",-1),p=["value"],b=(0,n._)("p",{id:"p_fund_source",style:{display:"none"},class:"error_msg"},"Please select an office!",-1),h={class:"col-md-3"},v=(0,n._)("label",{for:"inp_status",style:{"margin-bottom":"2%"}},[(0,n._)("b",null,"Status:")],-1),m={class:"select2-single form-control status-select",id:"inp_status"},y=["value"],D=(0,n._)("p",{id:"p_type",style:{display:"none"},class:"error_msg"},"Type is required!",-1),w=(0,n._)("div",{class:"col-md-3"},[(0,n._)("button",{id:"btnFilterTable",style:{"margin-top":"20px"},type:"button",class:"btn btn-primary btn-gradient dark btn-large"},[(0,n._)("i",{class:"fa fa-refresh"}),(0,n.Uk)(" Filter Table ")])],-1),R={class:"col-md-12"},T={class:"panel panel-colorbox-open panel-dark",id:"spy2"},x=(0,n._)("br",null,null,-1),S=(0,n._)("div",{class:"panel-heading"},[(0,n._)("div",{class:"panel-title hidden-xs"},[(0,n._)("span",{class:"glyphicon glyphicon-tasks"}),(0,n.Uk)("ORS / DV Records ")])],-1),F={class:"panel-body pn"},C={class:"table table-striped table-hover",id:"tbl_fund_source",cellspacing:"0",width:"100%"},Y=(0,n._)("thead",null,[(0,n._)("tr",null,[(0,n._)("th",{style:{"text-align":"center"}},"SysId"),(0,n._)("th",{style:{"text-align":"center"}},"ORS No."),(0,n._)("th",{style:{"text-align":"center"}},"DV No."),(0,n._)("th",{style:{"text-align":"center"}},"Description"),(0,n._)("th",{style:{"text-align":"center"}},"Requesting Region"),(0,n._)("th",{style:{"text-align":"center"}},"Status"),(0,n._)("th",{style:{"text-align":"center"}},"Date/Time Created"),(0,n._)("th",{style:{"text-align":"center"}},"Date/Time Modified"),(0,n._)("th",{style:{"text-align":"center"}},"Action")])],-1),E={style:{"text-align":"center"}},M={style:{"text-align":"center"}},O={style:{"text-align":"center"}},k={style:{"text-align":"center"}},L={style:{"text-align":"center"}},$={style:{"text-align":"center"}},V={style:{"text-align":"center"}},z={style:{"text-align":"center"}},P={style:{"text-align":"center"}},A=["data-fs_id"],H=[(0,n._)("i",{class:"fa fa-eye"},null,-1)];const U={mixins:[a(4901).Z],created:function(){this.sRedirectUrl="/front/actg/bdgt/ors/manage/details/",this.sDefaultStatus="FOR DV"}};const q=(0,a(3744).Z)(U,[["render",function(e,t,a,U,q,I){var N=(0,n.up)("C_Layout_Header"),Z=(0,n.up)("C_Layout_ACTG_Sidebar");return(0,n.wg)(),(0,n.iD)(n.HY,null,[(0,n.Wm)(N),(0,n.Wm)(Z),(0,n._)("section",i,[s,(0,n._)("div",l,[r,(0,n._)("div",o,[(0,n._)("div",d,[(0,n._)("div",c,[u,(0,n._)("div",g,[_,(0,n.wy)((0,n._)("select",{class:"select2-single form-control region-select",id:"inp_region","onUpdate:modelValue":t[0]||(t[0]=function(t){return e.iSelectedRegion=t})},[f,((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(e.aRegions,(function(e){return(0,n.wg)(),(0,n.iD)("option",{value:e.region_id},(0,n.zw)(e.region_abbr)+" - "+(0,n.zw)(e.region_desc),9,p)})),256))],512),[[n.bM,e.iSelectedRegion]]),b]),(0,n._)("div",h,[v,(0,n._)("select",m,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(e.aFsStatuses,(function(e){return(0,n.wg)(),(0,n.iD)("option",{value:e.id},(0,n.zw)(e.desc),9,y)})),256))]),D]),w])]),(0,n._)("div",R,[(0,n._)("div",T,[x,S,(0,n._)("div",F,[(0,n._)("table",C,[Y,(0,n._)("tbody",null,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(e.aFundSource,(function(t){return(0,n.wg)(),(0,n.iD)("tr",null,[(0,n._)("td",E,(0,n.zw)(t.temp_id),1),(0,n._)("td",M,(0,n.zw)(t.ors_no),1),(0,n._)("td",O,(0,n.zw)(t.dv_no),1),(0,n._)("td",k,(0,n.zw)(t.fs_desc),1),(0,n._)("td",L,(0,n.zw)(t.region_abbr),1),(0,n._)("td",$,(0,n.zw)(t.fs_status),1),(0,n._)("td",V,(0,n.zw)(e.nullCheck(t.date_created,"date")),1),(0,n._)("td",z,(0,n.zw)(e.nullCheck(t.date_modified,"date")),1),(0,n._)("td",P,[(0,n._)("button",{type:"button","data-attr":"viewDetails","data-fs_id":t.fs_id,class:"btn btn-md btn-info viewDetails",style:{"margin-right":"3%"}},H,8,A)])])})),256))])])])])])])])])],64)}]])}}]);