"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[9339],{8818:(e,a,t)=>{t.d(a,{Z:()=>l});var n=t(3645),s=t.n(n)()((function(e){return e[1]}));s.push([e.id,".error_msg[data-v-7f8e8287]{color:red}",""]);const l=s},9339:(e,a,t)=>{t.r(a),t.d(a,{default:()=>M});var n=t(821),s=function(e){return(0,n.dD)("data-v-7f8e8287"),e=e(),(0,n.Cn)(),e},l={id:"main"},i={id:"content_wrapper"},c=(0,n.uE)('<header id="topbar" class="alt" data-v-7f8e8287><div class="topbar-left" data-v-7f8e8287><ol class="breadcrumb" data-v-7f8e8287><li class="crumb-trail" data-v-7f8e8287> Cash Management </li><li class="crumb-trail" data-v-7f8e8287> Add Cash Disbursement </li><li class="crumb-active" data-v-7f8e8287><a data-v-7f8e8287>Personnel Services</a></li></ol></div></header>',1),r={class:"panel"},o=s((function(){return(0,n._)("div",{class:"panel-heading"},[(0,n._)("span",{class:"panel-title"},"Add Cash Disbursement Entry for PS")],-1)})),d={class:"panel-body"},u={class:"form-horizontal",role:"form"},p={class:"col-md-6"},f={class:"form-group"},_=s((function(){return(0,n._)("label",{for:"inputSelect",class:"col-lg-3 control-label"},"ORS/ADA: ",-1)})),v={class:"col-lg-8"},m={class:"select2-single form-control fs-select",id:"inp_fund_source"},y=s((function(){return(0,n._)("option",{disabled:"",value:"0",selected:""},"Please select fund source",-1)})),h=["value"],b=s((function(){return(0,n._)("p",{id:"p_fund_source",style:{display:"none"},class:"error_msg"},"Please select a fund source!",-1)})),g=(0,n.uE)('<div class="form-group" data-v-7f8e8287><label for="inputStandard" class="col-lg-3 control-label" data-v-7f8e8287>Date of Transaction</label><div class="admin-form mw1000 center-block" data-v-7f8e8287><div class="col-lg-8" data-v-7f8e8287><label for="datepicker1" class="field prepend-icon" data-v-7f8e8287><input type="text" id="inpDateTransact" name="inpDateTransact" class="gui-input" placeholder="Enter date of transaction" readonly data-v-7f8e8287><label class="field-icon" data-v-7f8e8287><i class="fa fa-calendar-o" data-v-7f8e8287></i></label></label><p id="p_transact_date" style="display:none;" class="error_msg" data-v-7f8e8287>Date of Transaction is required!</p></div></div></div>',1),k={class:"form-group"},w=s((function(){return(0,n._)("label",{for:"inputSelect",class:"col-lg-3 control-label"},"Particular (UACS): ",-1)})),S={class:"col-lg-8"},E=s((function(){return(0,n._)("option",{disabled:"",value:"0",selected:""},"Please select UACS",-1)})),N=["value"],D=s((function(){return(0,n._)("p",{id:"p_uacs",style:{display:"none"},class:"error_msg"},"Please select a UACS!",-1)})),P=(0,n.uE)('<div class="form-group" data-v-7f8e8287><label for="inp_nature_payment" class="col-lg-3 control-label" data-v-7f8e8287>Nature of Payment:</label><div class="col-lg-8" data-v-7f8e8287><input id="inp_nature_payment" class="form-control" type="text" data-v-7f8e8287><p id="p_nature_payment" style="display:none;" class="error_msg" data-v-7f8e8287>Nature of payment is required!</p><div class="admin-form" style="margin-top:5px;" data-v-7f8e8287><label class="option" data-v-7f8e8287><input id="chkbxNewNatPay" type="checkbox" name="checked" value="checked" data-v-7f8e8287><span id="spanNewNatPay" class="checkbox" data-v-7f8e8287></span>(Check if the nature of payment is the same with UACS Account Title)</label></div></div></div>',1),x={class:"col-md-6"},C=(0,n.uE)('<div class="form-group" data-v-7f8e8287><label for="inp_net_amount" class="col-lg-3 control-label" data-v-7f8e8287>Net Amount:</label><div class="col-lg-8" data-v-7f8e8287><input id="inp_net_amount" class="form-control" type="number" min="0.00" value="0.00" step=".01" data-v-7f8e8287><p id="p_net_amount" style="display:none;" class="error_msg" data-v-7f8e8287>Net amount is required!</p></div></div><br data-v-7f8e8287>',2),U=["onClick"],L=s((function(){return(0,n._)("i",{class:"fa fa-floppy-o"},null,-1)}));var T=t(475),A=t(860),F=t(381),z=t.n(F);const B={mixins:[T.Z,A.Z],data:function(){return{sFundType:"ps",aUacsList:[],aFSList:[],iSelectedUacs:0,iSelectedFs:0}},created:function(){document.title="SCMS | Add PS Entry"},mounted:function(){this.initializePlugins(),this.initLibraries(),document.getElementById("chkbxNewNatPay").checked=!0,$("#inp_nature_payment").attr("readonly",!0),this.initNatureOfPayment()},methods:{initLibraries:function(){var e=this,a=this.$root.parseLocalStorageLib(),t=a.fund_source;this.aFSList=t.filter((function(a){return a.fs_type==e.sFundType&&"RELEASED"===a.fs_status}));var n=a.uacs;this.aUacsList=n.filter((function(a){return a.uacs_fund_type==e.sFundType}))},initNatureOfPayment:function(){var e=this;$("#inp_uacs").on("select2:select",(function(a){if(!0===document.getElementById("chkbxNewNatPay").checked){var t=$("#inp_uacs option:selected").val(),n=e.filterUacs(t);$("#inp_nature_payment").val(n),$("#inp_nature_payment").attr("readonly",!0)}})),document.body.addEventListener("click",(function(a){if(a.preventDefault(),"spanNewNatPay"===a.target.id)if(1==document.getElementById("chkbxNewNatPay").checked)document.getElementById("chkbxNewNatPay").checked=!1,$("#inp_nature_payment").val(""),$("#inp_nature_payment").attr("readonly",!1);else{document.getElementById("chkbxNewNatPay").checked=!0;var t=$("#inp_uacs option:selected").val(),n=e.filterUacs(t);$("#inp_nature_payment").val(n),$("#inp_nature_payment").attr("readonly",!0)}}),!1)},filterUacs:function(e){return this.aUacsList.filter((function(a){return a.uacs_id==e}))[0].uacs_acc_title},initializePlugins:function(){$(".select2-single").select2(),$("#inpDateTransact").datepicker({prevText:'<i class="fa fa-chevron-left"></i>',nextText:'<i class="fa fa-chevron-right"></i>',showButtonPanel:!1,beforeShow:function(e,a){var t=$(this).parents(".admin-form").attr("class");a.dpDiv.parent().hasClass(t)||a.dpDiv.wrap('<div class="'+t+'"></div>')}}),$("#inpDateTransact").val(z()().format("MM/DD/YYYY"))},validateEntries:function(){var e=!0;""===$("#inpDateTransact").val()&&($("#p_transact_date").css("display",""),e=!1),null===$("#inp_uacs").val()&&($("#p_uacs").css("display",""),e=!1);var a=$("#inp_net_amount").val();return""===a&&($("#p_net_amount").css("display",""),e=!1),parseFloat(a)<=0&&($("#p_net_amount").css("display",""),$("#p_net_amount").text("Net amount must not be less than or equal to zero!")),e},saveEntries:function(){var e=this,a={fund_type:this.sFundType,fs_id:$("#inp_fund_source").val(),transact_date:$("#inpDateTransact").val(),uacs_id:$("#inp_uacs").val(),nature_payment:$("#inp_nature_payment").val(),net_amount:$("#inp_net_amount").val(),gross_amount:$("#inp_net_amount").val()};$(".error_msg").css("display","none"),!0===this.validateEntries()?this.postRequest("sdor/save-entry",a,(function(a){e.showSuccessAlert("Successfully saved your entry"),e.resetEntries()})):this.showErrorAlert("Please double check and correct all your entries!")},resetEntries:function(){$(".uacs-select").select2().val(0).trigger("change"),$("#inp_nature_payment").val(""),document.getElementById("chkbxNewNatPay").checked=!0,$("#inp_nature_payment").attr("readonly",!0),$("#inp_net_amount").val("0.00")}}};var I=t(3379),Y=t.n(I),Z=t(8818),q={insert:"head",singleton:!1};Y()(Z.Z,q);Z.Z.locals;const M=(0,t(3744).Z)(B,[["render",function(e,a,t,s,$,T){var A=(0,n.up)("C_Layout_Header"),F=(0,n.up)("C_Layout_SDOR_Sidebar");return(0,n.wg)(),(0,n.iD)("div",l,[(0,n.Wm)(A),(0,n.Wm)(F),(0,n._)("section",i,[c,(0,n._)("div",r,[o,(0,n._)("div",d,[(0,n._)("form",u,[(0,n._)("div",p,[(0,n._)("div",f,[_,(0,n._)("div",v,[(0,n._)("select",m,[y,((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)($.aFSList,(function(e){return(0,n.wg)(),(0,n.iD)("option",{value:e.fs_id},(0,n.zw)(e.ors_no)+" ("+(0,n.zw)(e.fs_desc)+") ",9,h)})),256))]),b])]),g,(0,n._)("div",k,[w,(0,n._)("div",S,[(0,n.wy)((0,n._)("select",{class:"select2-single form-control uacs-select",id:"inp_uacs","onUpdate:modelValue":a[0]||(a[0]=function(e){return $.iSelectedUacs=e})},[E,((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)($.aUacsList,(function(e){return(0,n.wg)(),(0,n.iD)("option",{value:e.uacs_id},(0,n.zw)(e.uacs_code)+": "+(0,n.zw)(e.uacs_acc_title),9,N)})),256))],512),[[n.bM,$.iSelectedUacs]]),D])]),P]),(0,n._)("div",x,[C,(0,n._)("button",{type:"button",class:"btn btn-lg btn-success pull-right",style:{"margin-right":"9%"},onClick:T.saveEntries},[L,(0,n.Uk)(" Save Entry ")],8,U)])])])])])])}],["__scopeId","data-v-7f8e8287"]])}}]);