"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[505],{5266:(t,e,s)=>{s.d(e,{Z:()=>r});var a=s(381),i=s.n(a),n=s(860),l=s(475);const r={mixins:[n.Z,l.Z],data:function(){return{sUserType:this.$root.getUserType(),aTableConfig:{aoColumnDefs:[{bSortable:!0,aTargets:[-1]}],oLanguage:{oPaginate:{sPrevious:"",sNext:""}},iDisplayLength:5,aLengthMenu:[[5,10,25,50,-1],[5,10,25,50,"All"]],sDom:'<"dt-panelmenu clearfix"lfr>t<"dt-panelfooter clearfix"ip>',oTableTools:{sSwfPath:"vendor/plugins/datatables/extensions/TableTools/swf/copy_csv_xls_pdf.swf"}},aFundTypes:[{id:1,code:"ps",desc:"Personnel Services (PS)"},{id:2,code:"mooe",desc:"Maintenance and Other Operating Expenses (MOOE)"},{id:3,code:"sr",desc:"Special Requests (SR)"}],iSelectedFund:0,aFSList:[],aRegionList:[],aSheet:[],aSheetDetails:[],fTotalGrossAmount:0,fTotalTaxAmount:0,fTotalNetAmount:0,fTotalParticularAmount:0,sFundCode:"",sReportNo:"",sSheetNo:"",sTitleDate:"",sCurrDate:i()().format("DD-MMM-YYYY"),sCompressedSummary:"",aFundSource:[],aSheetRecap:[],aSheetSummary:[],fSumOfSWReg:0,fSumOfSWCas:0,fSumOfOffice:0,fSumOfOthers:0,sReportType:"",sReportDetailsUrl:"",sPrintPageUrl:""}},mounted:function(){this.initializePlugins(),this.initEventListeners(),this.getFundSourceList(),this.executeUserTypeRequests()},methods:{initializePlugins:function(t){$(".select2-single").select2(),$("#inpMonthYearTransact").monthpicker({changeYear:!1,stepYears:1,prevText:'<i class="fa fa-chevron-left"></i>',nextText:'<i class="fa fa-chevron-right"></i>',showButtonPanel:!0,beforeShow:function(t,e){var s=$(this).parents(".admin-form").attr("class");e.dpDiv.parent().hasClass(s)||e.dpDiv.wrap('<div class="'+s+'"></div>')}})},initTblSheets:function(){$("#tbl_cash_reg_summary").DataTable(this.aTableConfig)},initEventListeners:function(){var t=this;$("#inp_fund_type").on("select2:select",(function(t){"sr"===$("#inp_fund_type").val()?$("#divSRSelection").css("visibility",""):$("#divSRSelection").css("visibility","hidden")})),document.body.addEventListener("click",(function(e){e.preventDefault(),"btnGenReport"===e.target.id&&t.validateFilter(),"btnPrintReport"===e.target.id&&t.prepareReport()}),!1)},prepareReport:function(){var t=Object.assign({},this.aSheetDetails,{date_details:{title_date:this.sTitleDate,curr_date:this.sCurrDate}});this.sCompressedSummary=btoa(JSON.stringify(t)),this.$root.setLocalStorageValue("forEx",this.sCompressedSummary),window.open(this.sPrintPageUrl,"_blank")},validateFilter:function(){var t,e,s,a=!0,i=$("#inp_fund_type").val(),n=$("#inpMonthYearTransact").val();""===n&&(a=!1,this.showErrorAlert("Month-Year is Required!")),null==i?(a=!1,this.showErrorAlert("Type is Required!")):"sr"===i&&null==(e=$("#inp_sr").val())&&(a=!1,this.showErrorAlert("Request Reference is Required!")),"sdor"!==this.sUserType&&null==(s=$("#inp_office").val())&&(a=!1,this.showErrorAlert("Office is Required!")),!0===a&&(t={sheet_fund_type:i,transact_month:n.split("/")[0],transact_year:n.split("/")[1]},t="sr"===i?Object.assign({},t,{fs_id:e}):t,t="sdor"!==this.sUserType?Object.assign({},t,{region_id:s}):t,this.getDateValues(),this.getReportDetails(t))},getDateValues:function(){var t=$("#inpMonthYearTransact").val(),e=t.split("/")[0],s=t.split("/")[1],a=e+"-01-"+s,n=i()(a).endOf("month").format("DD");this.sTitleDate="01-"+n+" "+i()(a).format("MMMM")+" "+s},executeUserTypeRequests:function(){"sdor"!==this.sUserType&&($("#divInpOffice").css("visibility",""),this.getRegionList())},getRegionList:function(){this.aRegionList=this.$root.parseLocalStorageLib().regions},getReportDetails:function(t){var e=this;this.getRequest(this.sReportDetailsUrl,(function(t){var s=t.data;0===s.length?(e.resetDisplayTable(),e.showErrorAlert("No available data to load!"),$(".tbl-empty").css("display",""),$(".tbl-with-content").css("display","none"),$("#btnPrintReport").attr("disabled",!0),$("#btnPrintReport").attr("class","btn btn-default btn-gradient dark btn-lg")):($(".tbl-with-content").css("display",""),$(".tbl-empty").css("display","none"),$("#btnPrintReport").attr("disabled",!1),$("#btnPrintReport").attr("class","btn btn-success btn-gradient dark btn-lg"),e.aSheetDetails=s,e.reportLayoutSetter(s))}),t)},resetDisplayTable:function(){this.aSheetDetails=[],this.fTotalGrossAmount=0,this.fTotalTaxAmount=0,this.fTotalNetAmount=0,this.fTotalParticularAmount=0},reportLayoutSetter:function(t){this.sTitleDate=void 0===t.date_details?this.sTitleDate:t.date_details.title_date,this.sCurrDate=void 0===t.date_details?this.sCurrDate:t.date_details.curr_date,"cash-reg-report"===this.sReportType?(this.sReportNo=t.sheet_details.report_no,this.sSheetNo=t.sheet_details.sheet_no,this.sFundCluster=t.sheet_details.fund_desc+" ("+t.sheet_details.fund_code+")",this.computeTotalAmount()):"cash-reg-record"===this.sReportType?(this.aFundSource=t.fund_source[0],this.aSheetRecap=t.sheet_recap,this.aSheetSummary=t.sheet_summary):"cash-reg-register"===this.sReportType?(this.aFundSource=t.fund_source[0],this.aSheetRecap=t.sheet_recap,this.aSheetSummary=t.sheet_summary,this.computeSummation()):"cash-reg-liquidation"===this.sReportType&&(this.aSheetSummary=t.sheet_summary)},getFundSourceList:function(){var t=this;this.getRequest("fund-source/get-list",(function(e){t.aFSList=e.data}),{fs_type:"sr",fs_status:"RELEASED"})},computeTotalAmount:function(){var t=this.aSheetDetails.sheet_entries.reduce((function(t,e){return t+parseFloat(e.net_amount)}),0),e=this.aSheetDetails.sheet_entries.reduce((function(t,e){return t+parseFloat(e.tax_amount)}),0),s=this.aSheetDetails.sheet_entries.reduce((function(t,e){return t+parseFloat(e.gross_amount)}),0),a=this.aSheetDetails.sheet_recap.reduce((function(t,e){return t+parseFloat(e.total_amount)}),0);this.fTotalGrossAmount=s.toFixed(2),this.fTotalTaxAmount=e.toFixed(2),this.fTotalNetAmount=t.toFixed(2),this.fTotalParticularAmount=a.toFixed(2)},computeSummation:function(t){var e=this;this.aSheetDetails.sheet_entries.forEach((function(t){"5-01-010-1000"===t.uacs_code?e.fSumOfSWReg+=parseFloat(t.net_amount):"5-01-010-2000"===t.uacs_code?e.fSumOfSWCas+=parseFloat(t.net_amount):"5-02-03-010"===t.uacs_code?e.fSumOfOffice+=parseFloat(t.net_amount):e.fSumOfOthers+=parseFloat(t.net_amount)}))},parseCompressedData:function(){var t=this.$root.getLocalStorageValue("forEx");this.aSheetDetails=JSON.parse(atob(t)),this.reportLayoutSetter(this.aSheetDetails)},printReport:function(){var t=document.getElementById("printableDiv").outerHTML,e=document.body.innerHTML;document.body.innerHTML=t,window.print(),document.body.innerHTML=e}}}},3505:(t,e,s)=>{s.r(e),s.d(e,{default:()=>ht});var a=s(821),i={id:"content_wrapper"},n=(0,a.uE)('<header id="topbar" class="alt"><div class="topbar-left"><ol class="breadcrumb"><li class="crumb-trail"> Financial Reports </li><li class="crumb-active"><a>Cash Disbursement Report</a></li></ol></div></header>',1),l={class:"panel"},r=(0,a._)("div",{class:"panel-heading"},[(0,a._)("span",{class:"panel-title"},"Cash Disbursement Report")],-1),o={class:"panel-body"},c={class:"col-md-12"},d={class:"form-group"},u={class:"col-md-4"},p={class:"select2-single form-control",id:"inp_fund_type"},h=(0,a._)("option",{disabled:"",value:"0",selected:""},"Please select type",-1),_=["value"],f=(0,a._)("p",{id:"p_fund_type",style:{display:"none"},class:"error_msg"},"Please select a Fund Type! ",-1),m=(0,a.uE)('<div class="col-md-3"><div class="admin-form mw1000 center-block"><label for="monthpicker1" class="field prepend-icon"><input type="text" id="inpMonthYearTransact" name="inpMonthYearTransact" class="gui-input" placeholder="Enter month and year" readonly style="height:38px;"><label class="field-icon"><i class="fa fa-calendar-o"></i></label></label></div></div><div class="col-md-5"><button id="btnGenReport" type="button" class="btn btn-primary btn-gradient dark btn-md"><i class="fa fa-download"></i> Generate Report </button> Â  <button id="btnPrintReport" type="button" class="btn btn-default btn-gradient dark btn-md" disabled><i class="fa fa-file-pdf-o"></i> Print Report </button></div>',2),g={class:"col-md-12",style:{"margin-top":"10px"}},b={class:"form-group"},y={id:"divSRSelection",class:"col-md-4",style:{visibility:"hidden"}},v={class:"select2-single form-control",id:"inp_sr"},S=(0,a._)("option",{disabled:"",value:"0",selected:""},"Please select Special Request",-1),T=["value"],x={id:"divInpOffice",class:"col-md-3",style:{visibility:"hidden"}},w={class:"select2-single form-control",id:"inp_office"},D=(0,a._)("option",{disabled:"",value:"0",selected:""},"Please select office",-1),R=["value"],F=(0,a._)("p",{id:"p_fund_type",style:{display:"none"},class:"error_msg"},"Please select a Fund Type! ",-1),P={class:"col-md-12"},L={class:"panel panel-colorbox-open panel-dark",id:"spy2"},A=(0,a._)("br",null,null,-1),C={class:"panel-heading"},O={class:"panel-title hidden-xs",style:{color:"rgb(255, 255, 255)"}},z=(0,a._)("span",{class:"glyphicon glyphicon-tasks"},null,-1),N={class:"panel-body pn"},$=(0,a._)("table",{class:"table table-bordered mbn tbl-empty",cellspacing:"0",width:"100%"},[(0,a._)("tbody",null,[(0,a._)("tr",null,[(0,a._)("td",{colspan:"11",style:{"font-size":"20px","text-align":"center"}},[(0,a._)("p",null,[(0,a._)("br"),(0,a.Uk)("No Data Available"),(0,a._)("br"),(0,a._)("br")])])])])],-1),M={class:"table table-bordered mbn tbl-with-content",id:"tbl_cash_reg_summary",cellspacing:"0",width:"100%",style:{display:"none"}},k=(0,a._)("thead",null,[(0,a._)("tr",null,[(0,a._)("th",{style:{"text-align":"center"}},"Date"),(0,a._)("th",{style:{"text-align":"center"}},"DV/Payroll No."),(0,a._)("th",{style:{"text-align":"center"}},"ORS/BURS No."),(0,a._)("th",{style:{"text-align":"center"}},"OR No."),(0,a._)("th",{style:{"text-align":"center"}},[(0,a.Uk)("Responsibility "),(0,a._)("br"),(0,a.Uk)(" Center Code")]),(0,a._)("th",{style:{"text-align":"center"}},"Payee"),(0,a._)("th",{style:{"text-align":"center"}},"UACS Object Code"),(0,a._)("th",{style:{"text-align":"center"}},"Nature of Payment"),(0,a._)("th",{style:{"text-align":"center"}},"Gross"),(0,a._)("th",{style:{"text-align":"center"}},"Tax"),(0,a._)("th",{style:{"text-align":"center"}},"Net")])],-1),U={style:{"text-align":"center"}},E={style:{"text-align":"center"}},Y={style:{"text-align":"center"}},q={style:{"text-align":"center"}},H={style:{"text-align":"center"}},G={style:{"text-align":"center"}},j={style:{"text-align":"center"}},K={style:{"text-align":"left"}},V={style:{"text-align":"right"}},W={style:{"text-align":"right"}},Z={style:{"text-align":"right"}},B=(0,a._)("td",{colspan:"8",style:{"text-align":"right"}},[(0,a._)("b",null,"TOTAL:")],-1),I={style:{"text-align":"right"}},J={style:{"text-align":"right"}},Q={style:{"text-align":"right"}},X={style:{"margin-left":"30%"}},tt=(0,a._)("p",{class:"tbl-with-content",style:{display:"none","font-weight":"700","font-size":"17px","margin-top":"10px"}},"Recap: ",-1),et={class:"table table-bordered mbn tbl-with-content",cellspacing:"0",style:{"margin-top":"10px",width:"50% !important",display:"none"}},st=(0,a._)("thead",{class:"custom-table-header"},[(0,a._)("tr",null,[(0,a._)("th",{style:{"text-align":"center"}},[(0,a._)("p",{class:"p-inside-table"},"Particulars")]),(0,a._)("th",{style:{"text-align":"center"}},[(0,a._)("p",{class:"p-inside-table"},"UACS Code")]),(0,a._)("th",{style:{"text-align":"center"}},[(0,a._)("p",{class:"p-inside-table"},"Amount")])])],-1),at={style:{"text-align":"left"}},it={class:"p-inside-table"},nt={style:{"text-align":"left"}},lt={class:"p-inside-table"},rt={style:{"text-align":"right"}},ot={class:"p-inside-table"},ct=(0,a._)("td",{style:{"text-align":"left"},colspan:"2"},[(0,a._)("p",{class:"p-inside-table"},[(0,a._)("b",null,"TOTAL (NET): ")])],-1),dt={style:{"text-align":"right"}},ut={class:"p-inside-table"};const pt={mixins:[s(5266).Z],created:function(){this.sReportType="cash-reg-report",this.sReportDetailsUrl="report/cashreg-report",this.sPrintPageUrl="/front/sdor/report/cd/report/print"}};const ht=(0,s(3744).Z)(pt,[["render",function(t,e,s,pt,ht,_t){var ft=(0,a.up)("C_Layout_Header"),mt=(0,a.up)("C_Layout_SDOR_Sidebar"),gt=(0,a.up)("C_Layout_ACTG_Sidebar");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a.Wm)(ft),"sdor"===t.sUserType?((0,a.wg)(),(0,a.j4)(mt,{key:0})):"actg"===t.sUserType?((0,a.wg)(),(0,a.j4)(gt,{key:1})):(0,a.kq)("",!0),(0,a._)("section",i,[n,(0,a._)("div",l,[r,(0,a._)("div",o,[(0,a._)("div",c,[(0,a._)("div",d,[(0,a._)("div",u,[(0,a._)("select",p,[h,((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(t.aFundTypes,(function(t){return(0,a.wg)(),(0,a.iD)("option",{value:t.code},(0,a.zw)(t.desc),9,_)})),256))]),f]),m])]),(0,a._)("div",g,[(0,a._)("div",b,[(0,a._)("div",y,[(0,a._)("select",v,[S,((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(t.aFSList,(function(t){return(0,a.wg)(),(0,a.iD)("option",{value:t.fs_id},(0,a.zw)(t.cpo_no)+" ("+(0,a.zw)(t.fs_desc)+") ",9,T)})),256))])]),(0,a._)("div",x,[(0,a._)("select",w,[D,((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(t.aRegionList,(function(t){return(0,a.wg)(),(0,a.iD)("option",{value:t.region_id},(0,a.zw)(t.region_abbr)+" ("+(0,a.zw)(t.region_desc)+")",9,R)})),256))]),F])])]),(0,a._)("div",P,[(0,a._)("div",L,[A,(0,a._)("div",C,[(0,a._)("div",O,[z,(0,a.Uk)("Period Covered "+(0,a.zw)(t.sTitleDate),1)])]),(0,a._)("div",N,[$,(0,a._)("table",M,[k,(0,a._)("tbody",null,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(t.aSheetDetails.sheet_entries,(function(e){return(0,a.wg)(),(0,a.iD)("tr",null,[(0,a._)("td",U,(0,a.zw)(t.convertDateFormat(e.date_created,"DD-MMM-YY")),1),(0,a._)("td",E,(0,a.zw)(e.fs_dv_no),1),(0,a._)("td",Y,(0,a.zw)(e.fs_ors_no),1),(0,a._)("td",q,(0,a.zw)(e.or_number),1),(0,a._)("td",H,(0,a.zw)(e.region_abbr),1),(0,a._)("td",G,(0,a.zw)(e.payee_name),1),(0,a._)("td",j,(0,a.zw)(e.uacs_code),1),(0,a._)("td",K,(0,a.zw)(e.uacs_desc),1),(0,a._)("td",V,(0,a.zw)(t.convertNumberFormat(e.gross_amount)),1),(0,a._)("td",W,(0,a.zw)(t.convertNumberFormat(e.tax_amount)),1),(0,a._)("td",Z,(0,a.zw)(t.convertNumberFormat(e.net_amount)),1)])})),256))]),(0,a._)("tfoot",null,[(0,a._)("tr",null,[B,(0,a._)("td",I,[(0,a._)("b",null,(0,a.zw)(t.convertNumberFormat(t.fTotalGrossAmount)),1)]),(0,a._)("td",J,[(0,a._)("b",null,(0,a.zw)(t.convertNumberFormat(t.fTotalTaxAmount)),1)]),(0,a._)("td",Q,[(0,a._)("b",null,(0,a.zw)(t.convertNumberFormat(t.fTotalNetAmount)),1)])])])]),(0,a._)("div",X,[tt,(0,a._)("table",et,[st,(0,a._)("tbody",null,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(t.aSheetDetails.sheet_recap,(function(e){return(0,a.wg)(),(0,a.iD)("tr",null,[(0,a._)("td",at,[(0,a._)("p",it,(0,a.zw)(e.uacs_desc),1)]),(0,a._)("td",nt,[(0,a._)("p",lt,(0,a.zw)(e.uacs_code),1)]),(0,a._)("td",rt,[(0,a._)("p",ot,(0,a.zw)(t.convertNumberFormat(e.total_amount)),1)])])})),256)),(0,a._)("tr",null,[ct,(0,a._)("td",dt,[(0,a._)("p",ut,[(0,a._)("b",null,(0,a.zw)(t.convertNumberFormat(t.fTotalParticularAmount)),1)])])])])])])])])])])])])],64)}]])}}]);