"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[2532],{9409:(t,e,a)=>{a.d(e,{Z:()=>s});var l=a(3645),n=a.n(l)()((function(t){return t[1]}));n.push([t.id,"table[data-v-6eeef792],tbody[data-v-6eeef792],td[data-v-6eeef792],th[data-v-6eeef792],tr[data-v-6eeef792]{border:1px solid #d1d1d1!important}.c-margin-top[data-v-6eeef792]{margin-top:5%!important}.error_msg[data-v-6eeef792]{color:red!important}.custom-margin-top[data-v-6eeef792]{margin-top:2%}",""]);const s=n},2532:(t,e,a)=>{a.r(e),a.d(e,{default:()=>Gt});var l=a(821),n=function(t){return(0,l.dD)("data-v-6eeef792"),t=t(),(0,l.Cn)(),t},s={id:"main"},i={id:"content_wrapper"},d=(0,l.uE)('<header id="topbar" class="alt" data-v-6eeef792><div class="topbar-left" data-v-6eeef792><ol class="breadcrumb" data-v-6eeef792><li class="crumb-trail" data-v-6eeef792> Manage ORS </li><li class="crumb-link" data-v-6eeef792><a href="/front/sdor/get-cash-reg-summary" data-v-6eeef792>View ORS/DV/ADA</a></li><li class="crumb-active" data-v-6eeef792><a data-v-6eeef792>ORS/DV/ADA Details</a></li></ol></div></header>',1),r={class:"panel"},o=n((function(){return(0,l._)("div",{class:"panel-heading"},[(0,l._)("span",{class:"panel-title"}," View Transaction Details "),(0,l._)("a",{href:"/front/bdgt/ors/view","data-attr":"href",class:"btn btn-md btn-primary pull-right",style:{"margin-top":"0.5%"}},[(0,l._)("i",{class:"fa fa-arrow-left"}),(0,l.Uk)(" Go back to Viewing Table ")])],-1)})),c={class:"panel-body"},u={class:"panel panel-colorbox-open panel-info col-md-12",id:"spy2"},f=n((function(){return(0,l._)("br",null,null,-1)})),_=n((function(){return(0,l._)("div",{class:"panel-heading"},[(0,l._)("div",{class:"panel-title hidden-xs"},[(0,l._)("span",{class:"fa fa-list-alt"}),(0,l.Uk)("ORS Details ")])],-1)})),p={class:"panel-body pn"},h={style:{"margin-bottom":"1%"}},m={class:"col-md-4"},v={class:"table table-bordered mbn",cellspacing:"0",width:"100%",style:{"margin-top":"3%","margin-bottom":"3%"}},g=n((function(){return(0,l._)("th",{style:{"text-align":"left",width:"45%"}},"Sys ID:",-1)})),y={style:{"text-align":"left"}},b=n((function(){return(0,l._)("th",{style:{"text-align":"left",width:"45%"}},"Date/Time Encoded:",-1)})),D={style:{"text-align":"left"}},w=n((function(){return(0,l._)("th",{style:{"text-align":"left",width:"45%"}},"Date/Time Last Modified:",-1)})),x={style:{"text-align":"left"}},k=n((function(){return(0,l._)("th",{style:{"text-align":"left",width:"45%"}},"Short Description (Title):",-1)})),F={style:{"text-align":"left"}},C=n((function(){return(0,l._)("th",{style:{"text-align":"left",width:"45%"}},"Type: ",-1)})),A={style:{"text-align":"left"}},S=n((function(){return(0,l._)("th",{style:{"text-align":"left",width:"35%"}},"Requesting Office:",-1)})),T={style:{"text-align":"left"}},z=n((function(){return(0,l._)("th",{style:{"text-align":"left",width:"45%"}},"Referenced DF Number: ",-1)})),R={style:{"text-align":"left"}},Y={class:"col-md-4"},O={class:"table table-bordered mbn",cellspacing:"0",width:"100%",style:{"margin-top":"3%","margin-bottom":"3%"}},E=n((function(){return(0,l._)("th",{style:{"text-align":"left",width:"35%"}},"Current Status:",-1)})),I={style:{"text-align":"left"}},M=n((function(){return(0,l._)("th",{style:{"text-align":"left",width:"35%"}},"ORS Number:",-1)})),P={style:{"text-align":"left"}},L=n((function(){return(0,l._)("th",{style:{"text-align":"left",width:"35%"}},"ORS Date Issued:",-1)})),V={style:{"text-align":"left"}},q=n((function(){return(0,l._)("th",{style:{"text-align":"left",width:"35%"}},"ORS Date/Time Last Forwarded:",-1)})),N={style:{"text-align":"left"}},H=n((function(){return(0,l._)("th",{style:{"text-align":"left",width:"35%"}},"DV Number:",-1)})),U={style:{"text-align":"left"}},B=n((function(){return(0,l._)("th",{style:{"text-align":"left",width:"35%"}},"DV Date Issued:",-1)})),Z={style:{"text-align":"left"}},W=n((function(){return(0,l._)("th",{style:{"text-align":"left",width:"35%"}},"DV Date/Time Last Forwarded:",-1)})),G={style:{"text-align":"left"}},K={class:"col-md-4"},j={class:"table table-bordered mbn",cellspacing:"0",width:"100%",style:{"margin-top":"3%","margin-bottom":"3%"}},J=n((function(){return(0,l._)("th",{style:{"text-align":"left",width:"35%"}},"ADA/Check Number:",-1)})),Q={style:{"text-align":"left"}},X=n((function(){return(0,l._)("th",{style:{"text-align":"left",width:"35%"}},"ADA/Check Type:",-1)})),tt={style:{"text-align":"left"}},et=n((function(){return(0,l._)("th",{style:{"text-align":"left",width:"35%"}},"ADA/Check Date Issued:",-1)})),at={style:{"text-align":"left"}},lt=n((function(){return(0,l._)("th",{style:{"text-align":"left",width:"35%"}},"ADA/Check Date/Time Last Forwarded:",-1)})),nt={style:{"text-align":"left"}},st={class:"panel-body pn"},it={class:"col-md-7"},dt=n((function(){return(0,l._)("br",null,null,-1)})),rt=n((function(){return(0,l._)("h5",null,"ORS Particulars Breakdown",-1)})),ot={class:"table table-bordered mbn",cellspacing:"0",width:"100%",style:{"margin-top":"3%","margin-bottom":"3%"}},ct=n((function(){return(0,l._)("thead",null,[(0,l._)("tr",null,[(0,l._)("th",null,"UACS Code"),(0,l._)("th",null,"UACS Account Title"),(0,l._)("th",null,"Amount")])],-1)})),ut={style:{"text-align":"left"}},ft={style:{"text-align":"left"}},_t={style:{"text-align":"left"}},pt={class:"col-md-5"},ht=n((function(){return(0,l._)("br",null,null,-1)})),mt=n((function(){return(0,l._)("h5",null,"TOTAL:",-1)})),vt={class:"table table-bordered mbn",cellspacing:"0",width:"100%",style:{"margin-top":"4%","margin-bottom":"3%"}},gt=n((function(){return(0,l._)("th",{style:{"text-align":"left",width:"35%"}},"Gross Amount:",-1)})),yt={style:{"text-align":"right"}},bt={style:{"font-size":"13px"}},Dt=n((function(){return(0,l._)("th",{style:{"text-align":"left",width:"35%"}},"Tax WithHeld:",-1)})),wt={style:{"text-align":"right"}},xt={style:{"font-size":"13px"}},kt=n((function(){return(0,l._)("th",{style:{"text-align":"left",width:"35%"}},"Net Amount:",-1)})),Ft={style:{"text-align":"right"}},Ct={style:{"font-size":"13px"}},At=(0,l.uE)('<div class="panel panel-colorbox-open panel-system col-md-8" id="edit_transact_div" style="display:none;" data-v-6eeef792><br data-v-6eeef792><div class="panel-heading" data-v-6eeef792><div class="panel-title hidden-xs" data-v-6eeef792><span class="fa fa-pencil-square-o" data-v-6eeef792></span>Issue ADA/Check Number </div></div><div class="panel-body pn" data-v-6eeef792><div class="col-md-12" data-v-6eeef792><div class="form-group" data-v-6eeef792><div class="row" style="margin:2%;" data-v-6eeef792><div class="col-lg-6 custom-margin-top" data-v-6eeef792><label for="inp_po_number" class="col-lg-6 control-label" data-v-6eeef792>ADA/Check Number: </label><input type="text" id="inp_po_number" class="form-control" placeholder="Enter ADA/Check Number" data-v-6eeef792><p id="p_dv_number" style="display:none;" class="error_msg" data-v-6eeef792>ADA/Check Number is required!</p></div><div class="col-lg-3 custom-margin-top" data-v-6eeef792><label for="inpDateIssued" class="col-lg-12 control-label" data-v-6eeef792>Date Issued:</label><div class="admin-form" data-v-6eeef792><label for="datepicker1" class="field prepend-icon" data-v-6eeef792><input type="text" id="inpDateIssued" name="inpDateIssued" class="gui-input" readonly data-v-6eeef792><label class="field-icon" data-v-6eeef792><i class="fa fa-calendar-o" data-v-6eeef792></i></label></label><p id="p_date_issued" style="display:none;" class="error_msg" data-v-6eeef792>Date Issued is required! </p></div></div><div class="col-lg-3 custom-margin-top" data-v-6eeef792><label for="inp_type" class="col-lg-12 control-label" data-v-6eeef792>Type:</label><select class="select2-single form-control type-select" id="inp_type" data-v-6eeef792><option disabled value="0" selected data-v-6eeef792>Please select type</option><option value="ADA" data-v-6eeef792>ADA</option><option value="CHECK" data-v-6eeef792>Check </option></select></div><div class="col-lg-12 custom-margin-top" data-v-6eeef792><label for="inp_remarks" class="col-lg-12 control-label" data-v-6eeef792>Remarks:</label><div class="admin-form" data-v-6eeef792><section data-v-6eeef792><label class="field prepend-icon" data-v-6eeef792><textarea class="gui-textarea" id="inp_remarks" name="comment" placeholder="Enter your remarks here..." data-v-6eeef792></textarea><label for="comment" class="field-icon" data-v-6eeef792><i class="fa fa-comments" data-v-6eeef792></i></label><span class="input-footer" data-v-6eeef792><strong data-v-6eeef792>Hint:</strong> You may provide the long description in this section.</span></label></section></div></div><div class="col-lg-12" data-v-6eeef792><button type="button" id="btnIssuePayout" class="btn btn-lg btn-system pull-right" style="margin-top:23px;" data-v-6eeef792><i class="fa fa-share-square-o" data-v-6eeef792></i> Release Payout </button></div></div></div></div></div></div>',1),St={class:"col-md-12",id:"info_message_div",style:{"margin-top":"19px"}},Tt={key:0,class:"alert alert-warning"},zt=n((function(){return(0,l._)("i",{class:"fa fa-info-circle pr10"},null,-1)})),Rt={key:1,class:"alert alert-warning"},Yt=n((function(){return(0,l._)("i",{class:"fa fa-info-circle pr10"},null,-1)})),$t={key:2,class:"alert alert-success"},Ot=n((function(){return(0,l._)("i",{class:"fa fa-info-circle pr10"},null,-1)})),Et={key:3,class:"alert alert-default"},It=n((function(){return(0,l._)("i",{class:"fa fa-info-circle pr10"},null,-1)}));var Mt=a(6455),Pt=a.n(Mt),Lt=a(475),Vt=a(860),qt=a(381),Nt=a.n(qt);const Ht={mixins:[Lt.Z,Vt.Z],data:function(){return{iFsId:0,aFsDetails:[],aFundCluster:[],aRegionList:[],sFsStat:"",aTaxClass:[],sSelectedTax:"",fTaxVATValue:1.12,aTaxCodes:[],aFilteredTaxCodes:[],aCpoList:[]}},watch:{sSelectedTax:function(t){this.computeTax(0),this.filterTaxCodes(t)}},mounted:function(){this.getFsDetails(),this.initEventListener()},methods:{initializePlugins:function(){$(".type-select").select2(),$(".cpo-select").select2(),$("#inpDateIssued").datepicker({prevText:'<i class="fa fa-chevron-left"></i>',nextText:'<i class="fa fa-chevron-right"></i>',showButtonPanel:!1,beforeShow:function(t,e){var a=$(this).parents(".admin-form").attr("class");e.dpDiv.parent().hasClass(a)||e.dpDiv.wrap('<div class="'+a+'"></div>')}})},getFsDetails:function(){var t=this,e=this;this.iFsId=this.$route.params.id,this.getRequest("bdgt/get-fund-source",(function(a){t.aFsDetails=a.data[0],t.sFsStat=t.aFsDetails.fs_status,"FOR PO"===t.sFsStat?($("#edit_transact_div").css("display",""),setTimeout((function(){e.getCashPaidOut(),e.initializePlugins()}),500),setTimeout((function(){e.setFieldsValue()}),1e3)):($("#edit_transact_div").css("display","none"),$("#info_message_div").css("display",""))}),{fs_id:this.iFsId})},getCashPaidOut:function(){var t=this;this.getRequest("cpo/get-list",(function(e){t.aCpoList=e.data}))},setFieldsValue:function(){$("#inpDateIssued").val(Nt()().format("MM/DD/YYYY"))},initEventListener:function(){var t=this;document.body.addEventListener("click",(function(e){e.preventDefault(),"href"===e.target.dataset.attr&&(window.location.href="/front/cash/payout/manage"),"btnIssuePayout"===e.target.id&&t.issuePayout()}),!1)},issuePayout:function(){var t=this,e=this,a={cpo_no:$("#inp_po_number").val(),cpo_issue_date:this.convertDateFormat($("#inpDateIssued").val(),"YYYY-MM-DD"),cpo_type:$("#inp_type").val(),cpo_total_amount:e.aFsDetails.fs_net_amount,ors_no:e.aFsDetails.ors_no,region_id:e.aFsDetails.region_id,cpo_remarks:$("#inp_remarks").val(),fs_status:"RELEASED",datetime_po_forwarded:Nt()().format("YYYY-MM-DD HH:mm:ss")};Pt().fire({title:"Confirmation",html:'\n               <br>\n                <div class="col-md-12; font-size: 17px">\n                    <p style="text-align: left; font-weight: 700;">Please review your entries:</p>\n                    <table class="table table-striped table-hover">\n                        <tbody>\n                            <tr>\n                                <td width="40%" style="text-align: left; font-weight: 700;">ADA/Check No.:</td>\n                                <td style="text-align: left">'+a.cpo_no+'</td>\n                            <tr>\n                            <tr>\n                                <td width="40%" style="text-align: left; font-weight: 700;">Date of Issue:</td>\n                                <td style="text-align: left">'+a.cpo_issue_date+'</td>\n                            <tr>\n                            <tr>\n                                <td width="40%" style="text-align: left; font-weight: 700;">Type:</td>\n                                <td style="text-align: left">'+$("#inp_type option:selected").text()+'</td>\n                            <tr>\n                                <tr>\n                                <td width="40%" style="text-align: left; font-weight: 700;">Mother ADA:</td>\n                                <td style="text-align: left">'+$("#inp_mother_ada option:selected").text()+'</td>\n                            <tr>\n                                <tr>\n                                <td width="40%" style="text-align: left; font-weight: 700;">Remarks:</td>\n                                <td style="text-align: left">'+a.cpo_remarks+'</td>\n                            <tr>\n                        </tbody>\n                    </table>\n                    <p style="margin-top: 10px;">By issuing a ADA/Check number, you will not be able to modify the details you provided and this will be considered as RELEASED. Are you sure you want to proceed?</p>\n                </div>\n                ',icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, Proceed."}).then((function(l){l.isConfirmed&&t.postRequest("cash/update-fund-source/"+t.iFsId,a,(function(a){t.showSuccessAlert("Successfully issued the Payout"),setTimeout((function(){e.getFsDetails()}),1e3)}))}))},filterParams:function(){var t=$("#inpDateTransact").val().split("/"),e={transact_date:$("#inpDateTransact").val(),transact_month:t[0],transact_year:t[2],fs_id:$("#inp_fund_source").val(),uacs_id:$("#inp_uacs").val(),net_amount:$("#inp_net_amount").val()};return"ps"!==this.sSheetFundType&&(e=Object.assign({},e,{or_number:$("#inp_or_number").val(),gross_amount:$("#inp_gross_amount").val(),tax_amount:$("#inp_tax_amount").val(),payee_id:$("#inp_payee").val(),tcl_id:$("#inp_tax_class").val()})),e}}};var Ut=a(3379),Bt=a.n(Ut),Zt=a(9409),Wt={insert:"head",singleton:!1};Bt()(Zt.Z,Wt);Zt.Z.locals;const Gt=(0,a(3744).Z)(Ht,[["render",function(t,e,a,n,$,Mt){var Pt=(0,l.up)("C_Layout_Header"),Lt=(0,l.up)("C_Layout_CASH_Sidebar");return(0,l.wg)(),(0,l.iD)("div",s,[(0,l.Wm)(Pt),(0,l.Wm)(Lt),(0,l._)("section",i,[d,(0,l._)("div",r,[o,(0,l._)("div",c,[(0,l._)("div",u,[f,_,(0,l._)("div",p,[(0,l._)("div",h,[(0,l._)("div",m,[(0,l._)("table",v,[(0,l._)("tbody",null,[(0,l._)("tr",null,[g,(0,l._)("td",y,(0,l.zw)($.aFsDetails.temp_id),1)]),(0,l._)("tr",null,[b,(0,l._)("td",D,(0,l.zw)(t.convertDateFormat($.aFsDetails.date_created,"DD-MMM-YYYY HH:mm:ss")),1)]),(0,l._)("tr",null,[w,(0,l._)("td",x,(0,l.zw)(t.nullCheck($.aFsDetails.date_modified,"date")),1)]),(0,l._)("tr",null,[k,(0,l._)("td",F,(0,l.zw)($.aFsDetails.fs_desc),1)]),(0,l._)("tr",null,[C,(0,l._)("td",A,(0,l.zw)($.aFsDetails.fs_type),1)]),(0,l._)("tr",null,[S,(0,l._)("td",T,(0,l.zw)($.aFsDetails.region_abbr)+" ("+(0,l.zw)($.aFsDetails.region_desc)+")",1)]),(0,l._)("tr",null,[z,(0,l._)("td",R,(0,l.zw)(t.nullCheck($.aFsDetails.df_ref_no)),1)])])])]),(0,l._)("div",Y,[(0,l._)("table",O,[(0,l._)("tbody",null,[(0,l._)("tr",null,[E,(0,l._)("td",I,(0,l.zw)($.aFsDetails.fs_status),1)]),(0,l._)("tr",null,[M,(0,l._)("td",P,(0,l.zw)($.aFsDetails.ors_no),1)]),(0,l._)("tr",null,[L,(0,l._)("td",V,(0,l.zw)(t.nullCheck($.aFsDetails.ors_issue_date,"date","DD-MMM-YYYY")),1)]),(0,l._)("tr",null,[q,(0,l._)("td",N,(0,l.zw)(t.nullCheck($.aFsDetails.datetime_ors_forwarded,"date")),1)]),(0,l._)("tr",null,[H,(0,l._)("td",U,(0,l.zw)(t.nullCheck($.aFsDetails.dv_no)),1)]),(0,l._)("tr",null,[B,(0,l._)("td",Z,(0,l.zw)(t.nullCheck($.aFsDetails.dv_issue_date,"date","DD-MMM-YYYY")),1)]),(0,l._)("tr",null,[W,(0,l._)("td",G,(0,l.zw)(t.nullCheck($.aFsDetails.datetime_dv_forwarded,"date")),1)])])])]),(0,l._)("div",K,[(0,l._)("table",j,[(0,l._)("tbody",null,[(0,l._)("tr",null,[J,(0,l._)("td",Q,(0,l.zw)(t.nullCheck($.aFsDetails.cpo_no)),1)]),(0,l._)("tr",null,[X,(0,l._)("td",tt,(0,l.zw)(t.nullCheck($.aFsDetails.cpo_type)),1)]),(0,l._)("tr",null,[et,(0,l._)("td",at,(0,l.zw)(t.nullCheck($.aFsDetails.cpo_issue_date,"date","DD-MMM-YYYY")),1)]),(0,l._)("tr",null,[lt,(0,l._)("td",nt,(0,l.zw)(t.nullCheck($.aFsDetails.datetime_po_forwarded,"date")),1)])])])])])]),(0,l._)("div",st,[(0,l._)("div",it,[dt,rt,(0,l._)("table",ot,[ct,(0,l._)("tbody",null,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)($.aFsDetails.breakdown,(function(e){return(0,l.wg)(),(0,l.iD)("tr",null,[(0,l._)("th",ut,(0,l.zw)(e.uacs_code),1),(0,l._)("td",ft,(0,l.zw)(e.uacs_acc_title),1),(0,l._)("td",_t,(0,l.zw)(t.nullCheck(e.fsb_amount,"number")),1)])})),256))])])]),(0,l._)("div",pt,[ht,mt,(0,l._)("table",vt,[(0,l._)("tbody",null,[(0,l._)("tr",null,[gt,(0,l._)("td",yt,[(0,l._)("b",bt,(0,l.zw)(t.nullCheck($.aFsDetails.fs_gross_amount,"number")),1)])]),(0,l._)("tr",null,[Dt,(0,l._)("td",wt,[(0,l._)("b",xt,(0,l.zw)(t.nullCheck($.aFsDetails.fs_tax_withheld,"number")),1)])]),(0,l._)("tr",null,[kt,(0,l._)("td",Ft,[(0,l._)("b",Ct,(0,l.zw)(t.nullCheck($.aFsDetails.fs_net_amount,"number")),1)])])])])])])]),At,(0,l._)("div",St,["OPEN"===$.sFsStat||"FOR ORS REV"===$.sFsStat?((0,l.wg)(),(0,l.iD)("div",Tt,[zt,(0,l.Uk)(" The ORS is not yet finalized and not yet ready for DV issuance. ")])):(0,l.kq)("",!0),"FOR DV"===$.sFsStat||"FOR DV REV"===$.sFsStat?((0,l.wg)(),(0,l.iD)("div",Rt,[Yt,(0,l.Uk)(" The ORS is not yet finalized and not yet ready for ADA/Check issuance. ")])):(0,l.kq)("",!0),"RELEASED"===$.sFsStat?((0,l.wg)(),(0,l.iD)("div",$t,[Ot,(0,l.Uk)(" The requested budget for this ORS is already released. ")])):(0,l.kq)("",!0),"CLEARED"===$.sFsStat?((0,l.wg)(),(0,l.iD)("div",Et,[It,(0,l.Uk)(" This ORS is already cleared. ")])):(0,l.kq)("",!0)])])])])])}],["__scopeId","data-v-6eeef792"]])}}]);