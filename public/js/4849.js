"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[4849],{5450:(a,e,t)=>{t.d(e,{Z:()=>l});var n=t(3645),s=t.n(n)()((function(a){return a[1]}));s.push([a.id,".error_msg[data-v-5750d057]{color:red}",""]);const l=s},4849:(a,e,t)=>{t.r(e),t.d(e,{default:()=>Z});var n=t(821),s=function(a){return(0,n.dD)("data-v-5750d057"),a=a(),(0,n.Cn)(),a},l={id:"main"},i={id:"content_wrapper"},c=(0,n.uE)('<header id="topbar" class="alt" data-v-5750d057><div class="topbar-left" data-v-5750d057><ol class="breadcrumb" data-v-5750d057><li class="crumb-trail" data-v-5750d057> Cash Management </li><li class="crumb-trail" data-v-5750d057> Add Cash Disbursement </li><li class="crumb-active" data-v-5750d057><a data-v-5750d057>Personnel Services</a></li></ol></div></header>',1),r={class:"panel"},d=s((function(){return(0,n._)("div",{class:"panel-heading"},[(0,n._)("span",{class:"panel-title"},"Add Cash Disbursement Entry for PS")],-1)})),o={class:"panel-body"},u={class:"form-horizontal",role:"form"},p={class:"col-md-6"},_={class:"form-group"},v=s((function(){return(0,n._)("label",{for:"inputSelect",class:"col-lg-3 control-label"},"ORS/ADA: ",-1)})),f={class:"col-lg-8"},m=s((function(){return(0,n._)("option",{disabled:"",value:"0",selected:""},"Please select fund source",-1)})),y=["value"],h=s((function(){return(0,n._)("p",{id:"p_fund_source",style:{display:"none"},class:"error_msg"},"Please select a fund source!",-1)})),b=(0,n.uE)('<div class="form-group" data-v-5750d057><label for="inputStandard" class="col-lg-3 control-label" data-v-5750d057>Date of Transaction</label><div class="admin-form mw1000 center-block" data-v-5750d057><div class="col-lg-8" data-v-5750d057><label for="datepicker1" class="field prepend-icon" data-v-5750d057><input type="text" id="inpDateTransact" name="inpDateTransact" class="gui-input" placeholder="Enter date of transaction" readonly data-v-5750d057><label class="field-icon" data-v-5750d057><i class="fa fa-calendar-o" data-v-5750d057></i></label></label><p id="p_transact_date" style="display:none;" class="error_msg" data-v-5750d057>Date of Transaction is required!</p></div></div></div>',1),g={class:"form-group"},k=s((function(){return(0,n._)("label",{for:"inputSelect",class:"col-lg-3 control-label"},"Particular (UACS): ",-1)})),w={class:"col-lg-8"},S=s((function(){return(0,n._)("option",{disabled:"",value:"0",selected:""},"Please select UACS",-1)})),D=["value"],E=s((function(){return(0,n._)("p",{id:"p_uacs",style:{display:"none"},class:"error_msg"},"Please select a UACS!",-1)})),N=(0,n.uE)('<div class="form-group" data-v-5750d057><label for="inp_nature_payment" class="col-lg-3 control-label" data-v-5750d057>Nature of Payment:</label><div class="col-lg-8" data-v-5750d057><input id="inp_nature_payment" class="form-control" type="text" data-v-5750d057><p id="p_nature_payment" style="display:none;" class="error_msg" data-v-5750d057>Nature of payment is required!</p><div class="admin-form" style="margin-top:5px;" data-v-5750d057><label class="option" data-v-5750d057><input id="chkbxNewNatPay" type="checkbox" name="checked" value="checked" data-v-5750d057><span id="spanNewNatPay" class="checkbox" data-v-5750d057></span>(Check if the nature of payment is the same with UACS Account Title)</label></div></div></div>',1),P={class:"col-md-6"},x=(0,n.uE)('<div class="form-group" data-v-5750d057><label for="inp_net_amount" class="col-lg-3 control-label" data-v-5750d057>Net Amount:</label><div class="col-lg-8" data-v-5750d057><input id="inp_net_amount" class="form-control" type="number" min="0.00" value="0.00" step=".01" data-v-5750d057><p id="p_net_amount" style="display:none;" class="error_msg" data-v-5750d057>Net amount is required!</p></div></div><br data-v-5750d057>',2),C=["onClick"],U=s((function(){return(0,n._)("i",{class:"fa fa-floppy-o"},null,-1)}));var T=t(475),L=t(860),A=t(381),F=t.n(A);const Y={mixins:[T.Z,L.Z],data:function(){return{sFundType:"ps",aUacsList:[],aFSList:[],iSelectedUacs:0,iSelectedFs:0}},created:function(){document.title="SCMS | Add PS Entry"},mounted:function(){this.initializePlugins(),this.initLibraries(),document.getElementById("chkbxNewNatPay").checked=!0,$("#inp_nature_payment").attr("readonly",!0),this.initNatureOfPayment()},methods:{initLibraries:function(){var a=this,e=this.$root.parseLocalStorageLib(),t=e.fund_source;this.aFSList=t.filter((function(e){return e.fs_type==a.sFundType&&"RELEASED"===e.fs_status}));var n=e.uacs;this.aUacsList=n.filter((function(e){return e.uacs_fund_type==a.sFundType}))},initNatureOfPayment:function(){var a=this;$("#inp_uacs").on("select2:select",(function(e){if(!0===document.getElementById("chkbxNewNatPay").checked){var t=$("#inp_uacs option:selected").val(),n=a.filterUacs(t);$("#inp_nature_payment").val(n),$("#inp_nature_payment").attr("readonly",!0)}})),document.body.addEventListener("click",(function(e){if(e.preventDefault(),"spanNewNatPay"===e.target.id)if(1==document.getElementById("chkbxNewNatPay").checked)document.getElementById("chkbxNewNatPay").checked=!1,$("#inp_nature_payment").val(""),$("#inp_nature_payment").attr("readonly",!1);else{document.getElementById("chkbxNewNatPay").checked=!0;var t=$("#inp_uacs option:selected").val(),n=a.filterUacs(t);$("#inp_nature_payment").val(n),$("#inp_nature_payment").attr("readonly",!0)}}),!1)},filterUacs:function(a){return this.aUacsList.filter((function(e){return e.uacs_id==a}))[0].uacs_acc_title},initializePlugins:function(){$(".select2-single").select2(),$("#inpDateTransact").datepicker({prevText:'<i class="fa fa-chevron-left"></i>',nextText:'<i class="fa fa-chevron-right"></i>',showButtonPanel:!1,beforeShow:function(a,e){var t=$(this).parents(".admin-form").attr("class");e.dpDiv.parent().hasClass(t)||e.dpDiv.wrap('<div class="'+t+'"></div>')}}),$("#inpDateTransact").val(F()().format("MM/DD/YYYY"))},validateEntries:function(){var a=!0;""===$("#inpDateTransact").val()&&($("#p_transact_date").css("display",""),a=!1),null===$("#inp_uacs").val()&&($("#p_uacs").css("display",""),a=!1);var e=$("#inp_net_amount").val();return""===e&&($("#p_net_amount").css("display",""),a=!1),parseFloat(e)<=0&&($("#p_net_amount").css("display",""),$("#p_net_amount").text("Net amount must not be less than or equal to zero!")),a},saveEntries:function(){var a=this,e={fund_type:this.sFundType,fs_id:$("#inp_fund_source").val(),transact_date:$("#inpDateTransact").val(),uacs_id:$("#inp_uacs").val(),nature_payment:$("#inp_nature_payment").val(),net_amount:$("#inp_net_amount").val(),gross_amount:$("#inp_net_amount").val()};$(".error_msg").css("display","none"),!0===this.validateEntries()?this.postRequest("sdor/save-entry",e,(function(e){a.showSuccessAlert("Successfully saved your entry"),a.resetEntries()})):this.showErrorAlert("Please double check and correct all your entries!")},resetEntries:function(){$(".fs-select").select2().val(0).trigger("change"),$("#inpDateTransact").val(F()().format("MM/DD/YYYY")),$(".uacs-select").select2().val(0).trigger("change"),$("#inp_nature_payment").val(""),document.getElementById("chkbxNewNatPay").checked=!0,$("#inp_nature_payment").attr("readonly",!0),$("#inp_net_amount").val("0.00")}}};var z=t(3379),M=t.n(z),B=t(5450),I={insert:"head",singleton:!1};M()(B.Z,I);B.Z.locals;const Z=(0,t(3744).Z)(Y,[["render",function(a,e,t,s,$,T){var L=(0,n.up)("C_Layout_Header"),A=(0,n.up)("C_Layout_SDOR_Sidebar");return(0,n.wg)(),(0,n.iD)("div",l,[(0,n.Wm)(L),(0,n.Wm)(A),(0,n._)("section",i,[c,(0,n._)("div",r,[d,(0,n._)("div",o,[(0,n._)("form",u,[(0,n._)("div",p,[(0,n._)("div",_,[v,(0,n._)("div",f,[(0,n.wy)((0,n._)("select",{class:"select2-single form-control fs-select",id:"inp_fund_source","onUpdate:modelValue":e[0]||(e[0]=function(a){return $.iSelectedFs=a})},[m,((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)($.aFSList,(function(a){return(0,n.wg)(),(0,n.iD)("option",{value:a.fs_id},(0,n.zw)(a.ors_no)+" ("+(0,n.zw)(a.fs_desc)+") ",9,y)})),256))],512),[[n.bM,$.iSelectedFs]]),h])]),b,(0,n._)("div",g,[k,(0,n._)("div",w,[(0,n.wy)((0,n._)("select",{class:"select2-single form-control uacs-select",id:"inp_uacs","onUpdate:modelValue":e[1]||(e[1]=function(a){return $.iSelectedUacs=a})},[S,((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)($.aUacsList,(function(a){return(0,n.wg)(),(0,n.iD)("option",{value:a.uacs_id},(0,n.zw)(a.uacs_code)+": "+(0,n.zw)(a.uacs_acc_title),9,D)})),256))],512),[[n.bM,$.iSelectedUacs]]),E])]),N]),(0,n._)("div",P,[x,(0,n._)("button",{type:"button",class:"btn btn-lg btn-success pull-right",style:{"margin-right":"9%"},onClick:T.saveEntries},[U,(0,n.Uk)(" Save Entry ")],8,C)])])])])])])}],["__scopeId","data-v-5750d057"]])}}]);