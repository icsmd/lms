"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[4719],{4719:(t,e,a)=>{a.r(e),a.d(e,{default:()=>S});var i=a(821),n={id:"content_wrapper"},s=(0,i._)("header",{id:"topbar",class:"alt"},[(0,i._)("div",{class:"topbar-left"},[(0,i._)("ol",{class:"breadcrumb"},[(0,i._)("li",{class:"crumb-active"},[(0,i._)("a",null,"Notifications")])])])],-1),o={class:"panel"},l=(0,i._)("div",{class:"panel-heading"},[(0,i._)("span",{class:"panel-title"}," Notifications ")],-1),c={class:"panel-body"},r={class:"col-md-12"},d=(0,i.uE)('<div class="panel panel-colorbox-open panel-system" id="spy2"><div class="panel-heading"><div class="panel-title hidden-xs"><span class="fa fa-cogs"></span>Actions Available </div></div><div class="panel-body pn"><button id="btnMarkAsRead" type="button" class="btn btn-lg btn-success" style="margin:1%;"><i class="fa fa-check"></i>Â  Mark all as read </button></div></div>',1),u={class:"panel panel-colorbox-open panel-dark",id:"spy2"},f=(0,i._)("div",{class:"panel-heading"},[(0,i._)("div",{class:"panel-title hidden-xs"},[(0,i._)("span",{class:"glyphicon glyphicon-tasks"}),(0,i.Uk)("Notifications (Unread) ")])],-1),_={class:"panel-body pn"},p={class:"table table-striped table-hover",id:"tbl_notifications",cellspacing:"0",width:"100%"},b=(0,i._)("thead",null,[(0,i._)("tr",null,[(0,i._)("th",{style:{"text-align":"center"}},"Sys No."),(0,i._)("th",{style:{"text-align":"center"}},"Description"),(0,i._)("th",{style:{"text-align":"center"}},"Initiator"),(0,i._)("th",{style:{"text-align":"center"}},"Date & Time"),(0,i._)("th",{style:{"text-align":"center"}},"Status"),(0,i._)("th",{style:{"text-align":"center"}},"Action")])],-1),y={style:{"text-align":"center"}},g={style:{"text-align":"left"}},h={style:{"text-align":"center"}},v={style:{"text-align":"center"}},m={style:{"text-align":"center"}},w={style:{"text-align":"center"}},T=["data-href"];var k=a(475),x=a(860),C=a(6455),N=a.n(C);const D={mixins:[x.Z,k.Z],data:function(){return{aNotifications:[],aNotifTableConfig:{aaSorting:[[0,"desc"]],aoColumnDefs:[{bSortable:!1,aTargets:[1]}],oLanguage:{oPaginate:{sPrevious:"",sNext:""}},iDisplayLength:10,aLengthMenu:[[5,10,25,50,-1],[5,10,25,50,"All"]],sDom:'<"dt-panelmenu clearfix"lfr>t<"dt-panelfooter clearfix"ip>',oTableTools:{sSwfPath:"vendor/plugins/datatables/extensions/TableTools/swf/copy_csv_xls_pdf.swf"}}}},mounted:function(){this.getNotifications(),this.initEventListeners()},methods:{getNotifications:function(){var t=this,e=this;this.getRequest("notif/get-list",(function(a){t.aNotifications=a.data.rows,!0===$.fn.dataTable.isDataTable("#tbl_notifications")&&$("#tbl_notifications").DataTable().destroy(),setTimeout((function(){e.initTblNotifications()}),500)}),{notif_status:0})},initTblNotifications:function(){$("#tbl_notifications").DataTable(this.aNotifTableConfig),$(".dataTables_filter input").attr("placeholder","Enter Terms...")},initEventListeners:function(){var t=this;document.body.addEventListener("click",(function(e){"btnMarkAsRead"===e.target.id&&t.markAllAsRead(),"redirect"===e.target.dataset.action&&(window.location.href=e.target.dataset.href)}),!1)},markAllAsRead:function(){var t="";this.aNotifications.forEach((function(e){t+=e.notif_no+","}));var e=this;N().fire({title:"Confirmation",text:"Are you sure you want to mark all notifications as read? You may miss some important items if you did not check them individually.",icon:"warning",showCancelButton:!0,cancelButtonColor:"#c7baba",confirmButtonText:"Yes, proceed."}).then((function(a){if(a.isConfirmed){var i={notif_no:t,notif_status:1};e.postRequest("notif/mass/update",i,(function(){e.showSuccessAlert("Successfully marked all notifications as read"),e.getNotifications()}))}}))}}};const S=(0,a(3744).Z)(D,[["render",function(t,e,a,k,x,C){var N=(0,i.up)("C_Layout_Header"),D=(0,i.up)("C_Layout_SDOR_Sidebar"),S=(0,i.up)("C_Layout_ACTG_Sidebar"),A=(0,i.up)("C_Layout_BDGT_Sidebar"),L=(0,i.up)("C_Layout_CASH_Sidebar"),Y=(0,i.up)("C_Layout_SYSA_Sidebar");return(0,i.wg)(),(0,i.iD)(i.HY,null,[(0,i.Wm)(N),"sdor"===t.$root.sUserType?((0,i.wg)(),(0,i.j4)(D,{key:0})):"actg"===t.$root.sUserType?((0,i.wg)(),(0,i.j4)(S,{key:1})):"bdgt"===t.$root.sUserType?((0,i.wg)(),(0,i.j4)(A,{key:2})):"cash"===t.$root.sUserType?((0,i.wg)(),(0,i.j4)(L,{key:3})):"sysa"===t.$root.sUserType?((0,i.wg)(),(0,i.j4)(Y,{key:4})):(0,i.kq)("",!0),(0,i._)("section",n,[s,(0,i._)("div",o,[l,(0,i._)("div",c,[(0,i._)("div",r,[d,(0,i._)("div",u,[f,(0,i._)("div",_,[(0,i._)("table",p,[b,(0,i._)("tbody",null,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(x.aNotifications,(function(e){return(0,i.wg)(),(0,i.iD)("tr",null,[(0,i._)("td",y,(0,i.zw)(e.temp_no),1),(0,i._)("td",g,(0,i.zw)(e.notif_desc),1),(0,i._)("td",h,(0,i.zw)(e.username),1),(0,i._)("td",v,(0,i.zw)(t.convertDateFormat(e.date_created,"MMM-DD-YYYY HH:MM:ss a")),1),(0,i._)("td",m,(0,i.zw)(1===e.notif_status?"Viewed":"Not Yet Viewed"),1),(0,i._)("td",w,[(0,i._)("a",{"data-action":"redirect","data-href":e.notif_url+e.notif_no},"Click to redirect",8,T)])])})),256))])])])])])])])])],64)}]])}}]);