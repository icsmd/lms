"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[6503],{2034:(t,e,a)=>{a.d(e,{Z:()=>n});var s=a(3645),l=a.n(s)()((function(t){return t[1]}));l.push([t.id,"table[data-v-660cf7aa],tbody[data-v-660cf7aa],td[data-v-660cf7aa],th[data-v-660cf7aa],tr[data-v-660cf7aa]{border:1px solid #d1d1d1!important}.c-margin-top[data-v-660cf7aa]{margin-top:5%!important}.error_msg[data-v-660cf7aa]{color:red!important}.custom-margin-top[data-v-660cf7aa]{margin-top:2%}.custom-table-header[data-v-660cf7aa]{background-color:#efeeee}",""]);const n=l},6503:(t,e,a)=>{a.r(e),a.d(e,{default:()=>oa});var s=a(821),l=function(t){return(0,s.dD)("data-v-660cf7aa"),t=t(),(0,s.Cn)(),t},n={id:"main"},i={id:"content_wrapper"},r=(0,s.uE)('<header id="topbar" class="alt" data-v-660cf7aa><div class="topbar-left" data-v-660cf7aa><ol class="breadcrumb" data-v-660cf7aa><li class="crumb-trail" data-v-660cf7aa> Manage ORS </li><li class="crumb-link" data-v-660cf7aa><a href="/front/sdor/get-cash-reg-summary" data-v-660cf7aa>View ORS</a></li><li class="crumb-active" data-v-660cf7aa><a data-v-660cf7aa>ORS Details</a></li></ol></div></header>',1),o={class:"panel"},c=l((function(){return(0,s._)("div",{class:"panel-heading"},[(0,s._)("span",{class:"panel-title"}," View ORS Details "),(0,s._)("a",{href:"/front/bdgt/ors/view","data-attr":"href",class:"btn btn-md btn-primary pull-right",style:{"margin-top":"0.5%"}},[(0,s._)("i",{class:"fa fa-arrow-left"}),(0,s.Uk)(" Go back to Viewing Table ")])],-1)})),d={class:"panel-body"},u={class:"panel panel-colorbox-open panel-info col-md-12",id:"spy2"},_=l((function(){return(0,s._)("br",null,null,-1)})),f=l((function(){return(0,s._)("div",{class:"panel-heading"},[(0,s._)("div",{class:"panel-title hidden-xs"},[(0,s._)("span",{class:"fa fa-list-alt"}),(0,s.Uk)("ORS Details ")])],-1)})),m={class:"panel-body pn"},p={style:{margin:"2% !important"}},g={class:"col-md-4",style:{"margin-bottom":"2% !important"}},h=l((function(){return(0,s._)("h5",null,"ORS Processing Details: ",-1)})),b={class:"table table-bordered mbn",cellspacing:"0",width:"100%",style:{"margin-top":"3%","margin-bottom":"3%"}},v=l((function(){return(0,s._)("th",{class:"custom-table-header",style:{"text-align":"left",width:"45%"}},"Sys ID:",-1)})),y={style:{"text-align":"left"}},w=l((function(){return(0,s._)("th",{class:"custom-table-header",style:{"text-align":"left",width:"45%"}}," Date/Time Encoded:",-1)})),D={style:{"text-align":"left"}},x=l((function(){return(0,s._)("th",{class:"custom-table-header",style:{"text-align":"left",width:"45%"}}," Date/Time Last Modified:",-1)})),F={style:{"text-align":"left"}},k=l((function(){return(0,s._)("th",{class:"custom-table-header",style:{"text-align":"left",width:"45%"}}," Short Description (Title):",-1)})),S={style:{"text-align":"left"}},R=l((function(){return(0,s._)("th",{class:"custom-table-header",style:{"text-align":"left",width:"45%"}}," Type: ",-1)})),C={style:{"text-align":"left"}},T=l((function(){return(0,s._)("th",{class:"custom-table-header",style:{"text-align":"left",width:"35%"}}," Requesting Office:",-1)})),E={style:{"text-align":"left"}},A=l((function(){return(0,s._)("th",{class:"custom-table-header",style:{"text-align":"left",width:"45%"}}," Referenced DF Number: ",-1)})),O={style:{"text-align":"left"}},z={class:"col-md-4",style:{"margin-bottom":"2% !important"}},U=l((function(){return(0,s._)("h5",{style:{visibility:"hidden"}},"ORS Processing Details: ",-1)})),Y={class:"table table-bordered mbn",cellspacing:"0",width:"100%",style:{"margin-top":"3%","margin-bottom":"3%"}},L=l((function(){return(0,s._)("th",{class:"custom-table-header",style:{"text-align":"left",width:"35%"}}," Current Status:",-1)})),q={style:{"text-align":"left"}},I=l((function(){return(0,s._)("th",{class:"custom-table-header",style:{"text-align":"left",width:"35%"}},"ORS Number:",-1)})),M={style:{"text-align":"left"}},V=l((function(){return(0,s._)("th",{class:"custom-table-header",style:{"text-align":"left",width:"35%"}},"ORS Date Issued:",-1)})),N={style:{"text-align":"left"}},H=l((function(){return(0,s._)("th",{class:"custom-table-header",style:{"text-align":"left",width:"35%"}},"ORS Date/Time Last Forwarded: ",-1)})),P={style:{"text-align":"left"}},B=l((function(){return(0,s._)("th",{class:"custom-table-header",style:{"text-align":"left",width:"35%"}},"DV Number:",-1)})),G={style:{"text-align":"left"}},Z=l((function(){return(0,s._)("th",{class:"custom-table-header",style:{"text-align":"left",width:"35%"}},"DV Date Issued:",-1)})),K={style:{"text-align":"left"}},W=l((function(){return(0,s._)("th",{class:"custom-table-header",style:{"text-align":"left",width:"35%"}},"DV Date/Time Last Forwarded: ",-1)})),j={style:{"text-align":"left"}},J={class:"col-md-4",style:{"margin-bottom":"2% !important"}},Q=l((function(){return(0,s._)("h5",{style:{visibility:"hidden"}},"ORS Processing Details: ",-1)})),X={class:"table table-bordered mbn",cellspacing:"0",width:"100%",style:{"margin-top":"3%","margin-bottom":"3%"}},tt=l((function(){return(0,s._)("th",{class:"custom-table-header",style:{"text-align":"left",width:"35%"}}," ADA/Check Number:",-1)})),et={style:{"text-align":"left"}},at=l((function(){return(0,s._)("th",{class:"custom-table-header",style:{"text-align":"left",width:"35%"}}," ADA/Check Type:",-1)})),st={style:{"text-align":"left"}},lt=l((function(){return(0,s._)("th",{class:"custom-table-header",style:{"text-align":"left",width:"35%"}}," ADA/Check Date Issued:",-1)})),nt={style:{"text-align":"left"}},it=l((function(){return(0,s._)("th",{class:"custom-table-header",style:{"text-align":"left",width:"35%"}}," ADA/Check Date/Time Last Forwarded:",-1)})),rt={style:{"text-align":"left"}},ot=l((function(){return(0,s._)("th",{class:"custom-table-header",style:{"text-align":"left",width:"35%"}}," Release/Credit Date/Time:",-1)})),ct={style:{"text-align":"left"}},dt=l((function(){return(0,s._)("th",{class:"custom-table-header",style:{"text-align":"left",width:"35%"}}," Release/Credit Reference No.: ",-1)})),ut={style:{"text-align":"left"}},_t={class:"panel-body pn"},ft={style:{margin:"2% !important"}},mt={class:"col-md-7",style:{"margin-bottom":"2% !important"}},pt=l((function(){return(0,s._)("h5",null,"ORS Particulars Breakdown:",-1)})),gt={class:"table table-bordered mbn",cellspacing:"0",width:"100%",style:{"margin-top":"3%","margin-bottom":"3%"}},ht=l((function(){return(0,s._)("thead",null,[(0,s._)("tr",null,[(0,s._)("th",{class:"custom-table-header"},"UACS Code"),(0,s._)("th",{class:"custom-table-header"},"UACS Account Title"),(0,s._)("th",{class:"custom-table-header"},"Amount")])],-1)})),bt={style:{"text-align":"left"}},vt={style:{"text-align":"left"}},yt={style:{"text-align":"left"}},wt={class:"col-md-5",style:{"margin-bottom":"2% !important"}},Dt=l((function(){return(0,s._)("h5",null,"Total Amount(s):",-1)})),xt={class:"table table-bordered mbn",cellspacing:"0",width:"100%"},Ft=l((function(){return(0,s._)("th",{class:"custom-table-header",style:{"text-align":"left",width:"35%"}}," Gross Amount:",-1)})),kt={style:{"text-align":"right"}},St={style:{"font-size":"13px"}},Rt=l((function(){return(0,s._)("th",{class:"custom-table-header",style:{"text-align":"left",width:"35%"}},"Tax WithHeld:",-1)})),Ct={style:{"text-align":"right"}},Tt={style:{"font-size":"13px"}},Et=l((function(){return(0,s._)("th",{class:"custom-table-header",style:{"text-align":"left",width:"35%"}},"Net Amount:",-1)})),At={style:{"text-align":"right"}},$t={style:{"font-size":"13px"}},Ot={class:"panel-body pn"},zt={style:{margin:"2% !important"}},Ut={class:"col-md-12",style:{"margin-bottom":"2% !important"}},Yt=l((function(){return(0,s._)("h5",null,"Remarks History: ",-1)})),Lt={class:"table table-bordered mbn",cellspacing:"0",width:"100%"},qt=l((function(){return(0,s._)("thead",null,[(0,s._)("tr",null,[(0,s._)("th",{class:"custom-table-header",width:"20%",style:{"text-align":"center"}}," Date and Time"),(0,s._)("th",{class:"custom-table-header",width:"20%",style:{"text-align":"center"}}," Remarks/Comment By:"),(0,s._)("th",{class:"custom-table-header",width:"60%",style:{"text-align":"center"}}," Remarks/Comment")])],-1)})),It={width:"20%",style:{"text-align":"center"}},Mt={width:"20%",style:{"text-align":"center"}},Vt={width:"60%",style:{"text-align":"left"}},Nt={key:0,class:"panel panel-colorbox-open panel-system col-md-12"},Ht=l((function(){return(0,s._)("br",null,null,-1)})),Pt=l((function(){return(0,s._)("div",{class:"panel-heading"},[(0,s._)("div",{class:"panel-title hidden-xs"},[(0,s._)("span",{class:"fa fa-share-square"}),(0,s.Uk)("Issue DV ")])],-1)})),Bt={class:"panel-body pn"},Gt={class:"col-md-9"},Zt={class:"admin-form",style:{margin:"1%"}},Kt={class:"section"},Wt={class:"field prepend-icon"},jt={class:"gui-textarea",id:"txt_remarks",name:"comment",placeholder:"Enter your remarks here..."},Jt=l((function(){return(0,s._)("label",{for:"comment",class:"field-icon"},[(0,s._)("i",{class:"fa fa-comments"})],-1)})),Qt={class:"input-footer"},Xt=l((function(){return(0,s._)("strong",null,"Hint:",-1)})),te=l((function(){return(0,s._)("p",{id:"p_remarks",class:"error_msg",style:{display:"none"}},"Remarks is required!",-1)})),ee=l((function(){return(0,s._)("div",{class:"col-md-3"},[(0,s._)("div",{class:"form-group"},[(0,s._)("button",{id:"btnForDVIssuance",class:"btn btn-lg btn-success pull-right",style:{"margin-top":"20%","margin-bottom":"10px"}},[(0,s._)("i",{class:"fa fa-share-square"}),(0,s.Uk)("Â For DV Issuance ")])])],-1)})),ae={class:"panel panel-colorbox-open panel-warning col-md-12",id:"edit_transact_div",style:{display:"none"}},se=l((function(){return(0,s._)("br",null,null,-1)})),le=l((function(){return(0,s._)("div",{class:"panel-heading"},[(0,s._)("div",{class:"panel-title hidden-xs"},[(0,s._)("span",{class:"fa fa-pencil-square-o"}),(0,s.Uk)("Edit ORS Details ")])],-1)})),ne={class:"panel-body pn"},ie={class:"col-md-6"},re={class:"form-group"},oe={class:"row",style:{margin:"2%"}},ce=l((function(){return(0,s._)("div",{class:"col-lg-12"},[(0,s._)("label",{for:"inp_ors_number",class:"col-lg-12 control-label"},"ORS Number: "),(0,s._)("input",{type:"text",id:"inp_ors_number",class:"form-control",placeholder:"Enter ORS Number"}),(0,s._)("p",{id:"p_ors_number",style:{display:"none"},class:"error_msg"},"ORS Number is required!")],-1)})),de={class:"col-lg-6 custom-margin-top"},ue=l((function(){return(0,s._)("label",{for:"inp_fund",class:"col-lg-12 control-label"},"Fund Cluster: ",-1)})),_e={class:"select2-single form-control col-md-6 fc-select",id:"inp_fund"},fe=l((function(){return(0,s._)("option",{disabled:"",value:"0",selected:""},"Please select fund",-1)})),me=["value"],pe=l((function(){return(0,s._)("p",{id:"p_ors_number",style:{display:"none"},class:"error_msg"},"Fund cluster is required!",-1)})),ge=(0,s.uE)('<div class="col-lg-6 custom-margin-top" data-v-660cf7aa><label for="inp_type" class="col-lg-12 control-label" data-v-660cf7aa>Type:</label><select class="select2-single form-control type-select" id="inp_type" data-v-660cf7aa><option disabled value="0" selected data-v-660cf7aa>Please select type</option><option value="ps" data-v-660cf7aa>Personnel Services (PS)</option><option value="mooe" data-v-660cf7aa>Maintenance and Other Operating Expenses (MOOE) </option><option value="sr" data-v-660cf7aa>Special</option><option value="co" data-v-660cf7aa>Capital Outlay</option></select><p id="p_type" style="display:none;" class="error_msg" data-v-660cf7aa>Type is required!</p></div><div class="col-lg-12 custom-margin-top" data-v-660cf7aa><label for="inp_short_desc" class="col-lg-12 control-label" data-v-660cf7aa>Short Description (Title):</label><input type="text" id="inp_short_desc" class="form-control" placeholder="Enter Short Description" data-v-660cf7aa><p id="p_title" style="display:none;" class="error_msg" data-v-660cf7aa>Title is required! </p></div><div class="col-lg-6 custom-margin-top" data-v-660cf7aa><label for="inp_gross_amount" class="col-lg-12 control-label" data-v-660cf7aa>Gross Amount:</label><input type="number" id="inp_gross_amount" class="form-control" placeholder="Enter Gross Amount" min="0.00" value="0.00" data-v-660cf7aa><p id="p_gross_amount" style="display:none;" class="error_msg" data-v-660cf7aa>Gross Amount is required! </p></div><div class="col-lg-6 custom-margin-top" data-v-660cf7aa><label for="inpDateIssued" class="col-lg-12 control-label" data-v-660cf7aa>Date Issued:</label><div class="admin-form" data-v-660cf7aa><label for="datepicker1" class="field prepend-icon" data-v-660cf7aa><input type="text" id="inpDateIssued" name="inpDateIssued" class="gui-input" placeholder="Enter date of transaction" readonly data-v-660cf7aa><label class="field-icon" data-v-660cf7aa><i class="fa fa-calendar-o" data-v-660cf7aa></i></label></label><p id="p_date_issued" style="display:none;" class="error_msg" data-v-660cf7aa>Date Issued is required! </p></div></div>',4),he={class:"col-lg-6 custom-margin-top"},be=l((function(){return(0,s._)("label",{for:"inp_region",class:"col-lg-12 control-label"},"Requesting Region:",-1)})),ve={class:"select2-single form-control region-select",id:"inp_region"},ye=l((function(){return(0,s._)("option",{disabled:"",value:"0",selected:""},"Please select region",-1)})),we=["value"],De=l((function(){return(0,s._)("p",{id:"p_region",style:{display:"none"},class:"error_msg"},"Requesting Region is required! ",-1)})),xe=(0,s.uE)('<div class="col-lg-6 custom-margin-top" data-v-660cf7aa><label for="inp_df_number" class="col-lg-12 control-label" data-v-660cf7aa>DF Number (Optional):</label><input type="text" id="inp_df_number" class="form-control" placeholder="Enter DF Number" data-v-660cf7aa></div><div class="col-lg-12 custom-margin-top" data-v-660cf7aa><label for="inp_remarks" class="col-lg-12 control-label" data-v-660cf7aa>Remarks:</label><div class="admin-form" data-v-660cf7aa><section data-v-660cf7aa><label class="field prepend-icon" data-v-660cf7aa><textarea class="gui-textarea" id="inp_remarks" name="comment" placeholder="Enter your remarks here..." data-v-660cf7aa></textarea><label for="comment" class="field-icon" data-v-660cf7aa><i class="fa fa-comments" data-v-660cf7aa></i></label><span class="input-footer" data-v-660cf7aa><strong data-v-660cf7aa>Hint:</strong> You may provide the long description in this section.</span></label></section></div></div><div class="col-lg-12" data-v-660cf7aa><button type="button" id="btnUpdateEntry" class="btn btn-lg btn-warning pull-right" style="margin-top:23px;" data-v-660cf7aa><i class="fa fa-floppy-o" data-v-660cf7aa></i> Update Details </button></div>',3),Fe={class:"col-md-6"},ke={class:"form-group"},Se={class:"row",style:{"margin-top":"1%"}},Re={class:"panel panel-visible panel-default",id:"spy2",style:{margin:"2%"}},Ce=l((function(){return(0,s._)("br",null,null,-1)})),Te=l((function(){return(0,s._)("div",{class:"panel-heading"},[(0,s._)("div",{class:"panel-title hidden-xs"},[(0,s._)("span",{class:"fa fa-sitemap"}),(0,s.Uk)("ORS Breakdown (Per UACS) ")])],-1)})),Ee={class:"panel-body pn"},Ae={class:"row",style:{margin:"2%"}},$e={class:"col-md-8"},Oe=l((function(){return(0,s._)("label",{for:"inp_uacs",class:"col-lg-12 control-label"},"UACS: ",-1)})),ze={class:"select2-single form-control uacs-select",id:"inp_uacs"},Ue=l((function(){return(0,s._)("option",{disabled:"",value:"0",selected:""},"Please select UACS ",-1)})),Ye=["value","data-id"],Le=l((function(){return(0,s._)("p",{id:"p_ors_number",style:{display:"none"},class:"error_msg"},"ORS Number is required!",-1)})),qe=(0,s.uE)('<div class="col-md-4" data-v-660cf7aa><label for="inp_uacs_amount" class="col-lg-12 control-label" data-v-660cf7aa>Gross Amount:</label><input type="number" id="inp_uacs_amount" class="form-control" placeholder="Enter Gross Amount" min="0.00" value="0.00" data-v-660cf7aa></div><div class="col-md-12" style="margin-top:24px;" data-v-660cf7aa><button id="btnAddUacs" class="btn btn-lg btn-system pull-right" data-v-660cf7aa><i class="fa fa-plus" data-v-660cf7aa></i>Â Add UACS</button></div>',2),Ie=l((function(){return(0,s._)("div",{class:"col-md-12",style:{"margin-bottom":"10px"}},[(0,s._)("table",{id:"tbl_uacs_selection",class:"table table-bordered mbn",cellspacing:"0",width:"100"},[(0,s._)("thead",null,[(0,s._)("tr",null,[(0,s._)("th",{class:"custom-table-header",style:{"text-align":"center"}},"UACS Code & Desc"),(0,s._)("th",{class:"custom-table-header",style:{"text-align":"center"}},"Amount"),(0,s._)("th",{class:"custom-table-header",style:{"text-align":"center"}},"Action")])]),(0,s._)("tbody")])],-1)})),Me={class:"col-md-12",id:"info_message_div",style:{"margin-top":"19px"}},Ve={key:0,class:"alert alert-primary"},Ne=l((function(){return(0,s._)("i",{class:"fa fa-info-circle pr10"},null,-1)})),He={key:1,class:"alert alert-warning"},Pe=l((function(){return(0,s._)("i",{class:"fa fa-info-circle pr10"},null,-1)})),Be={key:2,class:"alert alert-primary"},Ge=l((function(){return(0,s._)("i",{class:"fa fa-info-circle pr10"},null,-1)})),Ze={key:3,class:"alert alert-primary"},Ke=l((function(){return(0,s._)("i",{class:"fa fa-info-circle pr10"},null,-1)})),We={key:4,class:"alert alert-success"},je=l((function(){return(0,s._)("i",{class:"fa fa-info-circle pr10"},null,-1)})),Je={key:5,class:"alert alert-default"},Qe=l((function(){return(0,s._)("i",{class:"fa fa-info-circle pr10"},null,-1)}));var Xe=a(6455),ta=a.n(Xe),ea=a(475),aa=a(860);const sa={mixins:[ea.Z,aa.Z],data:function(){return{iFsId:0,aFsDetails:[],aFundCluster:[],aRegionList:[],sFsStat:"",sFundSource:"",sSheetFundType:"",sSheetTypeLink:"",aUacsList:[],aFSList:[],aPayeeList:[],aTaxClass:[],sSelectedTax:"",fTaxVATValue:1.12,aTaxCodes:[],aFilteredTaxCodes:[],sSheetStatus:"",aSelectedUacs:[],bFormValid:!1,sDefaultRemarks:"ORS ready for DV issuance. Nothing to note in particular.",sRemarksHint:"You may specify other important details to point out for this ORS. If none, you may leave the default message as it is."}},watch:{sSelectedTax:function(t){this.computeTax(0),this.filterTaxCodes(t)}},mounted:function(){this.getFsDetails(),this.initEventListener()},methods:{initializePlugins:function(){$(".fs-select").select2(),$(".uacs-select").select2(),$("#inpDateTransact").datepicker({prevText:'<i class="fa fa-chevron-left"></i>',nextText:'<i class="fa fa-chevron-right"></i>',showButtonPanel:!1,beforeShow:function(t,e){var a=$(this).parents(".admin-form").attr("class");e.dpDiv.parent().hasClass(a)||e.dpDiv.wrap('<div class="'+a+'"></div>')}})},getUacsList:function(){var t=this;this.getRequest("uacs/get-list",(function(e){t.aUacsList=e.data}))},getRegionList:function(){var t=this;this.getRequest("region/get-list",(function(e){t.aRegionList=e.data}))},getFundCluster:function(){var t=this;this.getRequest("fund-cluster/get-list",(function(e){t.aFundCluster=e.data}))},getFsDetails:function(){var t=this,e=this;this.iFsId=this.$route.params.id,this.getRequest("bdgt/get-fund-source",(function(a){t.aFsDetails=a.data[0],t.sFsStat=t.aFsDetails.fs_status,"OPEN"===t.sFsStat||"FOR ORS REV"===t.sFsStat?($("#edit_transact_div").css("display",""),setTimeout((function(){$(".uacs-select").select2(),$(".fc-select").select2(),$(".type-select").select2(),$(".region-select").select2(),e.getFundCluster(),e.initializePlugins(),e.getRegionList(),e.getUacsList()}),500),setTimeout((function(){e.setFieldsValue()}),1e3)):$("#info_message_div").css("display","")}),{fs_id:this.iFsId})},setFieldsValue:function(){var t=this;setTimeout((function(){$(".fc-select").select2().val(t.aFsDetails.fc_id).trigger("change"),$(".type-select").select2().val(t.aFsDetails.fs_type).trigger("change"),$(".region-select").select2().val(t.aFsDetails.region_id).trigger("change")}),200),$("#inpDateIssued").val(this.convertDateFormat(this.aFsDetails.date_created,"MM/DD/YYYY")),$("#inp_ors_number").val(this.aFsDetails.ors_no),$("#inp_short_desc").val(this.aFsDetails.fs_desc),$("#inp_df_number").val(this.aFsDetails.df_ref_no),$("#inp_gross_amount").val(this.aFsDetails.fs_gross_amount),$("#inp_remarks").text(null===this.aFsDetails.remarks?"":this.aFsDetails.remarks),this.initSelectedUacsTable()},initSelectedUacsTable:function(){var t=this;this.aFsDetails.breakdown.forEach((function(e){var a=e.uacs_id,s=e.uacs_code,l=e.uacs_acc_title,n=e.fsb_amount,i=document.getElementById("tbl_uacs_selection").getElementsByTagName("tbody")[0],r=i.insertRow(i.rows.length),o=r.insertCell(0),c=r.insertCell(1),d=r.insertCell(2);o.innerHTML=s+": "+l,c.innerHTML="â± "+n,d.innerHTML='<button data-action="btndeleteUacs"\n                                 class="btn btn-md btn-danger pull-right">\n                                 <i class="fa fa-trash"></i>\n                               </button',t.aSelectedUacs.push({id:a,desc:l,amount:n})}))},initEventListener:function(){var t=this;document.body.addEventListener("click",(function(e){e.preventDefault(),"href"===e.target.dataset.attr&&(window.location.href="/front/bdgt/ors/view"),"btnUpdateEntry"===e.target.id&&t.processEntry(),"btnForDVIssuance"===e.target.id&&t.changeStatus(),"btnAddUacs"===e.target.id&&t.addSelectedUacs(),"btndeleteUacs"===e.target.dataset.action&&t.deleteRow(e.target)}),!1)},addSelectedUacs:function(){var t=document.getElementById("inp_uacs"),e=document.getElementById("inp_uacs_amount");if(0!=t.value&&0!=parseFloat(e.value)){var a=t.options[t.selectedIndex],s=a.getAttribute("data-id"),l=a.text,n=e.value,i=document.getElementById("tbl_uacs_selection").getElementsByTagName("tbody")[0],r=i.insertRow(i.rows.length),o=r.insertCell(0),c=r.insertCell(1),d=r.insertCell(2);o.innerHTML=l,c.innerHTML="â± "+n,d.innerHTML='<button data-action="btndeleteUacs"\n                                 class="btn btn-md btn-danger pull-right">\n                                 <i class="fa fa-trash"></i>\n                               </button',this.aSelectedUacs.push({id:s,desc:l,amount:n})}else this.showErrorAlert("Uacs is required and amount must be greater than zero!")},deleteRow:function(t){var e=t.parentNode.parentNode,a=e.rowIndex-1;this.aSelectedUacs.splice(a,1),e.parentNode.removeChild(e)},changeStatus:function(){var t=this,e=this;ta().fire({title:"Confirmation",html:"By changing the status of this ORS, the authority to modify this entry will be transferred to the Accounting Division. Are you sure you want to proceed?",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, Proceed."}).then((function(a){if(a.isConfirmed){var s={ors_no:e.aFsDetails.ors_no,fs_status:"FOR DV",history_remarks:$("#txt_remarks").val(),datetime_ors_forwarded:moment().format("YYYY-MM-DD HH:mm:ss")};e.postRequest("bdgt/update-fund-source/"+t.iFsId,s,(function(t){e.showSuccessAlert("Successfully updated the status"),setTimeout((function(){window.location.reload()}),1e3)}))}}))},updateEntry:function(){var t=this,e={fc_id:$("#inp_fund").val(),ors_no:$("#inp_ors_number").val(),ors_issue_date:this.convertDateFormat($("#inpDateIssued").val(),"YYYY-MM-DD"),fs_type:$("#inp_type").val(),fs_desc:$("#inp_short_desc").val(),fs_gross_amount:$("#inp_gross_amount").val(),remarks:$("#inp_remarks").val(),df_ref_no:$("#inp_df_number").val(),region_id:$("#inp_region").val(),selected_uacs:this.aSelectedUacs};ta().fire({title:"Saving... Please wait.",imageUrl:"../../../../images/loading.gif",imageHeight:100,imageAlt:"Loading..."}),this.postRequest("bdgt/update-fund-source/"+this.iFsId,e,(function(e){t.showSuccessAlert("Successfully update the ORS"),setTimeout((function(){window.location.reload()}),1e3)}))},processEntry:function(){this.validateEntry(),!0===this.bFormValid?this.updateEntry():this.showErrorAlert("Please double check and correct all your entries!")},validateEntry:function(){var t=!0;""===$("#inp_ors_number").val()&&($("#p_ors_number").css("display",""),t=!1),null===$("#inp_fund").val()&&($("#p_fund").css("display",""),t=!1),null===$("#inp_type").val()&&($("#p_type").css("display",""),t=!1),""===$("#inpDateIssued").val()&&($("#p_date_issued").css("display",""),t=!1),""===$("#inp_short_desc").val()&&($("#p_title").css("display",""),t=!1);var e=$("#inp_gross_amount").val();if(""===e)$("#p_gross_amount").css("display",""),t=!1;else{var a=0;this.aSelectedUacs.forEach((function(t){a+=parseFloat(t.amount)})),0!=a&&parseFloat(e)!==parseFloat(a)&&($("#p_gross_amount").css("display",""),$("#p_gross_amount").text("Must be equal to ORS amount breakdown!"),t=!1)}parseFloat(e)<=0&&($("#p_gross_amount").css("display",""),$("#p_gross_amount").text("Gross amount must not be zero!"),t=!1),null===$("#inp_region").val()&&($("#p_region").css("display",""),t=!1),this.bFormValid=t}}};var la=a(3379),na=a.n(la),ia=a(2034),ra={insert:"head",singleton:!1};na()(ia.Z,ra);ia.Z.locals;const oa=(0,a(3744).Z)(sa,[["render",function(t,e,a,l,$,Xe){var ta=(0,s.up)("C_Layout_Header"),ea=(0,s.up)("C_Layout_BDGT_Sidebar");return(0,s.wg)(),(0,s.iD)("div",n,[(0,s.Wm)(ta),(0,s.Wm)(ea),(0,s._)("section",i,[r,(0,s._)("div",o,[c,(0,s._)("div",d,[(0,s._)("div",u,[_,f,(0,s._)("div",m,[(0,s._)("div",p,[(0,s._)("div",g,[h,(0,s._)("table",b,[(0,s._)("tbody",null,[(0,s._)("tr",null,[v,(0,s._)("td",y,(0,s.zw)($.aFsDetails.temp_id),1)]),(0,s._)("tr",null,[w,(0,s._)("td",D,(0,s.zw)(t.convertDateFormat($.aFsDetails.date_created,"DD-MMM-YYYY HH:mm:ss")),1)]),(0,s._)("tr",null,[x,(0,s._)("td",F,(0,s.zw)(t.nullCheck($.aFsDetails.date_modified,"date")),1)]),(0,s._)("tr",null,[k,(0,s._)("td",S,(0,s.zw)($.aFsDetails.fs_desc),1)]),(0,s._)("tr",null,[R,(0,s._)("td",C,(0,s.zw)($.aFsDetails.fs_type),1)]),(0,s._)("tr",null,[T,(0,s._)("td",E,(0,s.zw)($.aFsDetails.region_abbr)+": "+(0,s.zw)($.aFsDetails.region_desc),1)]),(0,s._)("tr",null,[A,(0,s._)("td",O,(0,s.zw)(t.nullCheck($.aFsDetails.df_ref_no)),1)])])])]),(0,s._)("div",z,[U,(0,s._)("table",Y,[(0,s._)("tbody",null,[(0,s._)("tr",null,[L,(0,s._)("td",q,(0,s.zw)($.aFsDetails.fs_status),1)]),(0,s._)("tr",null,[I,(0,s._)("td",M,(0,s.zw)($.aFsDetails.ors_no),1)]),(0,s._)("tr",null,[V,(0,s._)("td",N,(0,s.zw)(t.nullCheck($.aFsDetails.ors_issue_date,"date","DD-MMM-YYYY")),1)]),(0,s._)("tr",null,[H,(0,s._)("td",P,(0,s.zw)(t.nullCheck($.aFsDetails.datetime_ors_forwarded,"date")),1)]),(0,s._)("tr",null,[B,(0,s._)("td",G,(0,s.zw)(t.nullCheck($.aFsDetails.dv_no)),1)]),(0,s._)("tr",null,[Z,(0,s._)("td",K,(0,s.zw)(t.nullCheck($.aFsDetails.dv_issue_date,"date","DD-MMM-YYYY")),1)]),(0,s._)("tr",null,[W,(0,s._)("td",j,(0,s.zw)(t.nullCheck($.aFsDetails.datetime_dv_forwarded,"date")),1)])])])]),(0,s._)("div",J,[Q,(0,s._)("table",X,[(0,s._)("tbody",null,[(0,s._)("tr",null,[tt,(0,s._)("td",et,(0,s.zw)(t.nullCheck($.aFsDetails.cpo_no)),1)]),(0,s._)("tr",null,[at,(0,s._)("td",st,(0,s.zw)(t.nullCheck($.aFsDetails.cpo_type)),1)]),(0,s._)("tr",null,[lt,(0,s._)("td",nt,(0,s.zw)(t.nullCheck($.aFsDetails.cpo_issue_date,"date","DD-MMM-YYYY")),1)]),(0,s._)("tr",null,[it,(0,s._)("td",rt,(0,s.zw)(t.nullCheck($.aFsDetails.datetime_po_forwarded,"date")),1)]),(0,s._)("tr",null,[ot,(0,s._)("td",ct,(0,s.zw)(t.nullCheck($.aFsDetails.cpo_release_date,"date")),1)]),(0,s._)("tr",null,[dt,(0,s._)("td",ut,(0,s.zw)(t.nullCheck($.aFsDetails.cpo_ref_no)),1)])])])])])]),(0,s._)("div",_t,[(0,s._)("div",ft,[(0,s._)("div",mt,[pt,(0,s._)("table",gt,[ht,(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)($.aFsDetails.breakdown,(function(e){return(0,s.wg)(),(0,s.iD)("tr",null,[(0,s._)("th",bt,(0,s.zw)(e.uacs_code),1),(0,s._)("td",vt,(0,s.zw)(e.uacs_acc_title),1),(0,s._)("td",yt,(0,s.zw)(t.nullCheck(e.fsb_amount,"number")),1)])})),256))])])]),(0,s._)("div",wt,[Dt,(0,s._)("table",xt,[(0,s._)("tbody",null,[(0,s._)("tr",null,[Ft,(0,s._)("td",kt,[(0,s._)("b",St,(0,s.zw)(t.nullCheck($.aFsDetails.fs_gross_amount,"number")),1)])]),(0,s._)("tr",null,[Rt,(0,s._)("td",Ct,[(0,s._)("b",Tt,(0,s.zw)(t.nullCheck($.aFsDetails.fs_tax_withheld,"number")),1)])]),(0,s._)("tr",null,[Et,(0,s._)("td",At,[(0,s._)("b",$t,(0,s.zw)(t.nullCheck($.aFsDetails.fs_net_amount,"number")),1)])])])])])])]),(0,s._)("div",Ot,[(0,s._)("div",zt,[(0,s._)("div",Ut,[Yt,(0,s._)("table",Lt,[qt,(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)($.aFsDetails.remarks_history,(function(e){return(0,s.wg)(),(0,s.iD)("tr",null,[(0,s._)("td",It,(0,s.zw)(t.nullCheck(e.date_created,"date")),1),(0,s._)("td",Mt,(0,s.zw)(e.user_details.firstname)+" "+(0,s.zw)(e.user_details.lastname),1),(0,s._)("td",Vt,(0,s.zw)(e.remarks),1)])})),256))])])])])])]),"OPEN"===this.sFsStat||"FOR ORS REV"===this.sFsStat?((0,s.wg)(),(0,s.iD)("div",Nt,[Ht,Pt,(0,s._)("div",Bt,[(0,s._)("div",Gt,[(0,s._)("div",Zt,[(0,s._)("div",Kt,[(0,s._)("label",Wt,[(0,s._)("textarea",jt,(0,s.zw)($.sDefaultRemarks),1),Jt,(0,s._)("span",Qt,[Xt,(0,s.Uk)((0,s.zw)($.sRemarksHint),1)])]),te])])]),ee])])):(0,s.kq)("",!0),(0,s._)("div",ae,[se,le,(0,s._)("div",ne,[(0,s._)("div",ie,[(0,s._)("div",re,[(0,s._)("div",oe,[ce,(0,s._)("div",de,[ue,(0,s._)("select",_e,[fe,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)($.aFundCluster,(function(t){return(0,s.wg)(),(0,s.iD)("option",{value:t.fc_id},(0,s.zw)(t.fc_desc)+" ("+(0,s.zw)(t.fc_code)+")",9,me)})),256))]),pe]),ge,(0,s._)("div",he,[be,(0,s._)("select",ve,[ye,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)($.aRegionList,(function(t){return(0,s.wg)(),(0,s.iD)("option",{value:t.region_id},(0,s.zw)(t.region_abbr)+" ("+(0,s.zw)(t.region_desc)+")",9,we)})),256))]),De]),xe])])]),(0,s._)("div",Fe,[(0,s._)("div",ke,[(0,s._)("div",Se,[(0,s._)("div",Re,[Ce,Te,(0,s._)("div",Ee,[(0,s._)("div",Ae,[(0,s._)("div",$e,[Oe,(0,s._)("select",ze,[Ue,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)($.aUacsList,(function(t){return(0,s.wg)(),(0,s.iD)("option",{value:t.uacs_id,"data-id":t.uacs_id},(0,s.zw)(t.uacs_code)+": "+(0,s.zw)(t.uacs_acc_title),9,Ye)})),256))]),Le]),qe]),Ie])])])])])])]),(0,s._)("div",Me,["FOR DV"===$.sFsStat?((0,s.wg)(),(0,s.iD)("div",Ve,[Ne,(0,s.Uk)(" The ORS is now undergoing review in the Accounting Division for DV No. issuance. ")])):(0,s.kq)("",!0),"FOR DV REV"===$.sFsStat?((0,s.wg)(),(0,s.iD)("div",He,[Pe,(0,s.Uk)(" The ORS is now undergoing revision in the Accounting Division for DV No. issuance. ")])):(0,s.kq)("",!0),"FOR PO"===$.sFsStat?((0,s.wg)(),(0,s.iD)("div",Be,[Ge,(0,s.Uk)(" The ORS is now undergoing review in the Cash Division for ADA/Check No. issuance. ")])):(0,s.kq)("",!0),"FOR RELEASE"===$.sFsStat?((0,s.wg)(),(0,s.iD)("div",Ze,[Ke,(0,s.Uk)(" The ADA/Check No. has already been issued. Waiting for releasing/crediting. ")])):(0,s.kq)("",!0),"RELEASED"===$.sFsStat?((0,s.wg)(),(0,s.iD)("div",We,[je,(0,s.Uk)(" The requested budget for this ORS is already released. ")])):(0,s.kq)("",!0),"CLEARED"===$.sFsStat?((0,s.wg)(),(0,s.iD)("div",Je,[Qe,(0,s.Uk)(" This ORS is already cleared. ")])):(0,s.kq)("",!0)])])])])])}],["__scopeId","data-v-660cf7aa"]])}}]);