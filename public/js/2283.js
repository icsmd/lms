"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[2283],{4901:(e,t,a)=>{a.d(t,{Z:()=>i});var n=a(381),s=a.n(n);const i={mixins:[a(860).Z],data:function(){return{aTableConfig:{aaSorting:[[0,"desc"]],aoColumnDefs:[{bSortable:!0,aTargets:[-1]}],oLanguage:{oPaginate:{sPrevious:"",sNext:""}},iDisplayLength:10,aLengthMenu:[[5,10,25,50,-1],[5,10,25,50,"All"]],sDom:'<"dt-panelmenu clearfix"lfr>t<"dt-panelfooter clearfix"ip>',oTableTools:{sSwfPath:"vendor/plugins/datatables/extensions/TableTools/swf/copy_csv_xls_pdf.swf"}},aFundSource:[],aFundTypes:[{id:1,code:"ps",desc:"Personnel Services (PS)"},{id:2,code:"mooe",desc:"Maintenance and Other Operating Expenses (MOOE)"},{id:3,code:"sr",desc:"Special Requests (SR)"}],aFsStatuses:[{id:"",desc:"ALL"},{id:"OPEN",desc:"Open"},{id:"FOR ORS REV",desc:"Ongoing Revision for ORS"},{id:"FOR DV",desc:"For DV Issuance"},{id:"FOR DV REV",desc:"Ongoing Revision for DV"},{id:"FOR PO",desc:"For Payout Issuance"},{id:"FOR RELEASE",desc:"For Releasing"},{id:"RELEASED",desc:"Released"},{id:"CLEARED",desc:"Cleared"}],aRegions:[],sRedirectUrl:"",sDefaultStatus:""}},mounted:function(){this.initPlugins(),this.getRegions(),this.initPageValues(),this.initEventListeners()},methods:{initPlugins:function(){$(".status-select").select2(),$(".status-select").select2().val(this.sDefaultStatus).trigger("change"),$(".region-select").select2(),$(".region-select").select2().val(0).trigger("change"),$("#inpMonthYearCreated").monthpicker({changeYear:!1,stepYears:1,prevText:'<i class="fa fa-chevron-left"></i>',nextText:'<i class="fa fa-chevron-right"></i>',showButtonPanel:!0,beforeShow:function(e,t){var a=$(this).parents(".admin-form").attr("class");t.dpDiv.parent().hasClass(a)||t.dpDiv.wrap('<div class="'+a+'"></div>')}})},initTblFundSource:function(){$("#tbl_fund_source").DataTable(this.aTableConfig),$(".dataTables_filter input").attr("placeholder","Enter Terms...")},initPageValues:function(){var e=this,t=(null!=this.$route.query.mn?this.$route.query.mn:s()().format("MM"))+"/"+(null!=this.$route.query.yr?this.$route.query.yr:s()().format("YYYY"));$("#inpMonthYearCreated").val(t),null!=this.$route.query.stat&&$(".status-select").select2().val(this.$route.query.stat).trigger("change"),setTimeout((function(){null!=e.$route.query.reg&&$(".region-select").select2().val(parseInt(e.$route.query.reg)).trigger("change"),e.filterTable()}),200)},initEventListeners:function(){var e=this;document.body.addEventListener("click",(function(t){t.preventDefault(),"href"===t.target.dataset.attr&&(window.location.href=t.target.href+e.sSheetFundType),"btnFilterTable"===t.target.id&&e.filterTable()}),!1)},filterTable:function(){var e=$("#inpMonthYearCreated").val(),t=$("#inp_region").val(),a=$("#inp_type").val();if(""===e)this.showErrorAlert("Date (Month and Year) is Required!");else{var n=e.split("/"),s={fs_status:$("#inp_status").val(),date_month_created:n[0],date_year_created:n[1]};0!=t&&(s=Object.assign({},s,{region_id:t})),""==a&&null==a||(s=Object.assign({},s,{fs_type:a})),this.getFundSource(s)}},initTableEventListener:function(){var e=this;document.body.addEventListener("click",(function(t){t.preventDefault(),"viewDetails"===t.target.dataset.attr&&(window.location.href=e.sRedirectUrl+t.target.dataset.fs_id)}),!1)},getDateModified:function(e){return null===e?"---":this.convertDateFormat(e,"DD-MMM-YY H:mm:ss")},getRegions:function(){this.aRegions=this.$root.parseLocalStorageLib().regions},getFundSource:function(e){var t=this,a=this;this.getRequest("bdgt/get-fund-source",(function(e){t.aFundSource=e.data,!0===$.fn.dataTable.isDataTable("#tbl_fund_source")&&$("#tbl_fund_source").DataTable().destroy(),setTimeout((function(){a.initTblFundSource()}),500),setTimeout((function(){a.initTableEventListener()}),500)}),e)}}}},2283:(e,t,a)=>{a.r(t),a.d(t,{default:()=>Z});var n=a(821),s={id:"content_wrapper"},i=(0,n.uE)('<header id="topbar" class="alt"><div class="topbar-left"><ol class="breadcrumb"><li class="crumb-trail"> Budget Management </li><li class="crumb-active"><a>View ORS</a></li></ol></div></header>',1),l={class:"panel"},r=(0,n._)("div",{class:"panel-heading"},[(0,n._)("span",{class:"panel-title"},"View Obligation Request and Status")],-1),o={class:"panel-body"},d={class:"form-group",id:"divInpTransactMY",style:{margin:"1%"}},c={class:"admin-form mw1000 left-block"},u=(0,n.uE)('<div class="col-md-3"><label for="inp_region" style="margin-bottom:2%;"><b>Date Created: (Month &amp; Year)</b></label><label for="inpMonthYearCreated" class="field prepend-icon"><input type="text" id="inpMonthYearCreated" name="inpMonthYearCreated" class="gui-input" placeholder="Enter month and year" readonly><label class="field-icon"><i class="fa fa-calendar-o"></i></label></label></div>',1),g={class:"col-md-3"},f=(0,n._)("label",{for:"inp_region",style:{"margin-bottom":"2%"}},[(0,n._)("b",null,"Office:")],-1),_=(0,n._)("option",{value:"0",selected:""},"ALL",-1),p=["value"],b=(0,n._)("p",{id:"p_fund_source",style:{display:"none"},class:"error_msg"},"Please select an office!",-1),h={class:"col-md-3"},v=(0,n._)("label",{for:"inp_status",style:{"margin-bottom":"2%"}},[(0,n._)("b",null,"Status:")],-1),y={class:"select2-single form-control status-select",id:"inp_status"},m=["value"],w=(0,n._)("p",{id:"p_type",style:{display:"none"},class:"error_msg"},"Type is required!",-1),D=(0,n._)("div",{class:"col-md-3"},[(0,n._)("button",{id:"btnFilterTable",style:{"margin-top":"20px"},type:"button",class:"btn btn-primary btn-gradient dark btn-large"},[(0,n._)("i",{class:"fa fa-refresh"}),(0,n.Uk)(" Filter Table ")])],-1),S={class:"col-md-12"},R={class:"panel panel-colorbox-open panel-dark",id:"spy2"},T=(0,n._)("br",null,null,-1),x=(0,n._)("div",{class:"panel-heading"},[(0,n._)("div",{class:"panel-title hidden-xs"},[(0,n._)("span",{class:"glyphicon glyphicon-tasks"}),(0,n.Uk)("ORS Records ")])],-1),E={class:"panel-body pn"},$={class:"table table-striped table-hover",id:"tbl_fund_source",cellspacing:"0",width:"100%"},O=(0,n._)("thead",null,[(0,n._)("tr",null,[(0,n._)("th",{style:{"text-align":"center"}},"SysId"),(0,n._)("th",{style:{"text-align":"center"}},"ORS Number"),(0,n._)("th",{style:{"text-align":"center"}},"Description"),(0,n._)("th",{style:{"text-align":"center"}},"Requesting Region"),(0,n._)("th",{style:{"text-align":"center"}},"Status"),(0,n._)("th",{style:{"text-align":"center"}},"Date/Time Created"),(0,n._)("th",{style:{"text-align":"center"}},"Date/Time Modified"),(0,n._)("th",{style:{"text-align":"center"}},"Action")])],-1),F={style:{"text-align":"center"}},M={style:{"text-align":"center"}},Y={style:{"text-align":"center"}},C={style:{"text-align":"center"}},L={style:{"text-align":"center"}},k={style:{"text-align":"center"}},P={style:{"text-align":"center"}},q={style:{"text-align":"center"}},V=["data-fs_id"],z=[(0,n._)("i",{class:"fa fa-eye","data-attr":"viewDetails"},null,-1)],A=["data-sheet_id"],H=[(0,n._)("i",{class:"fa fa-trash"},null,-1)],U={key:1,type:"button",class:"btn btn-md btn-default",disabled:""},I=[(0,n._)("i",{class:"fa fa-trash"},null,-1)];const N={mixins:[a(4901).Z],created:function(){this.sRedirectUrl="/front/bdgt/ors/view/details/",this.sDefaultStatus="OPEN"}};const Z=(0,a(3744).Z)(N,[["render",function(e,t,a,N,Z,B){var K=(0,n.up)("C_Layout_Header"),j=(0,n.up)("C_Layout_BDGT_Sidebar");return(0,n.wg)(),(0,n.iD)(n.HY,null,[(0,n.Wm)(K),(0,n.Wm)(j),(0,n._)("section",s,[i,(0,n._)("div",l,[r,(0,n._)("div",o,[(0,n._)("div",d,[(0,n._)("div",c,[u,(0,n._)("div",g,[f,(0,n.wy)((0,n._)("select",{class:"select2-single form-control region-select",id:"inp_region","onUpdate:modelValue":t[0]||(t[0]=function(t){return e.iSelectedRegion=t})},[_,((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(e.aRegions,(function(e){return(0,n.wg)(),(0,n.iD)("option",{value:e.region_id},(0,n.zw)(e.region_abbr)+" - "+(0,n.zw)(e.region_desc),9,p)})),256))],512),[[n.bM,e.iSelectedRegion]]),b]),(0,n._)("div",h,[v,(0,n._)("select",y,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(e.aFsStatuses,(function(e){return(0,n.wg)(),(0,n.iD)("option",{value:e.id},(0,n.zw)(e.desc),9,m)})),256))]),w]),D])]),(0,n._)("div",S,[(0,n._)("div",R,[T,x,(0,n._)("div",E,[(0,n._)("table",$,[O,(0,n._)("tbody",null,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(e.aFundSource,(function(t){return(0,n.wg)(),(0,n.iD)("tr",null,[(0,n._)("td",F,(0,n.zw)(t.temp_id),1),(0,n._)("td",M,(0,n.zw)(t.ors_no),1),(0,n._)("td",Y,(0,n.zw)(t.fs_desc),1),(0,n._)("td",C,(0,n.zw)(t.region_abbr),1),(0,n._)("td",L,(0,n.zw)(t.fs_status),1),(0,n._)("td",k,(0,n.zw)(e.nullCheck(t.date_created,"date")),1),(0,n._)("td",P,(0,n.zw)(e.nullCheck(t.date_modified,"date")),1),(0,n._)("td",q,[(0,n._)("button",{type:"button","data-attr":"viewDetails","data-fs_id":t.fs_id,class:"btn btn-md btn-info viewDetails",style:{"margin-right":"3%"}},z,8,V),"OPEN"===t.fs_status?((0,n.wg)(),(0,n.iD)("button",{key:0,type:"button","data-attr":"deleteSheet","data-sheet_id":t.fs_id,class:"btn btn-md btn-danger deleteSheet"},H,8,A)):((0,n.wg)(),(0,n.iD)("button",U,I))])])})),256))])])])])])])])])],64)}]])}}]);