"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[504],{5266:(t,e,s)=>{s.d(e,{Z:()=>r});var a=s(381),l=s.n(a),i=s(860),n=s(475);const r={mixins:[i.Z,n.Z],data:function(){return{sUserType:this.$root.getUserType(),aTableConfig:{aoColumnDefs:[{bSortable:!0,aTargets:[-1]}],oLanguage:{oPaginate:{sPrevious:"",sNext:""}},iDisplayLength:5,aLengthMenu:[[5,10,25,50,-1],[5,10,25,50,"All"]],sDom:'<"dt-panelmenu clearfix"lfr>t<"dt-panelfooter clearfix"ip>',oTableTools:{sSwfPath:"vendor/plugins/datatables/extensions/TableTools/swf/copy_csv_xls_pdf.swf"}},aFundTypes:[{id:1,code:"ps",desc:"Personnel Services (PS)"},{id:2,code:"mooe",desc:"Maintenance and Other Operating Expenses (MOOE)"},{id:3,code:"sr",desc:"Special Requests (SR)"}],iSelectedFund:0,aFSList:[],aRegionList:[],aSheet:[],aSheetDetails:[],fTotalGrossAmount:0,fTotalTaxAmount:0,fTotalNetAmount:0,fTotalParticularAmount:0,sFundCode:"",sReportNo:"",sSheetNo:"",sTitleDate:"",sCurrDate:l()().format("DD-MMM-YYYY"),sCompressedSummary:"",aFundSource:[],aSheetRecap:[],aSheetSummary:[],fSumOfSWReg:0,fSumOfSWCas:0,fSumOfOffice:0,fSumOfOthers:0,sReportType:"",sReportDetailsUrl:"",sPrintPageUrl:""}},mounted:function(){this.initializePlugins(),this.initEventListeners(),this.getFundSourceList(),this.executeUserTypeRequests()},methods:{initializePlugins:function(t){$(".select2-single").select2(),$("#inpMonthYearTransact").monthpicker({changeYear:!1,stepYears:1,prevText:'<i class="fa fa-chevron-left"></i>',nextText:'<i class="fa fa-chevron-right"></i>',showButtonPanel:!0,beforeShow:function(t,e){var s=$(this).parents(".admin-form").attr("class");e.dpDiv.parent().hasClass(s)||e.dpDiv.wrap('<div class="'+s+'"></div>')}})},initTblSheets:function(){$("#tbl_cash_reg_summary").DataTable(this.aTableConfig)},initEventListeners:function(){var t=this;$("#inp_fund_type").on("select2:select",(function(t){"sr"===$("#inp_fund_type").val()?$("#divSRSelection").css("visibility",""):$("#divSRSelection").css("visibility","hidden")})),document.body.addEventListener("click",(function(e){e.preventDefault(),"btnGenReport"===e.target.id&&t.validateFilter(),"btnPrintReport"===e.target.id&&t.prepareReport()}),!1)},prepareReport:function(){var t=Object.assign({},this.aSheetDetails,{date_details:{title_date:this.sTitleDate,curr_date:this.sCurrDate}});this.sCompressedSummary=btoa(JSON.stringify(t)),this.$root.setLocalStorageValue("forEx",this.sCompressedSummary),window.open(this.sPrintPageUrl,"_blank")},validateFilter:function(){var t,e,s,a=!0,l=$("#inp_fund_type").val(),i=$("#inpMonthYearTransact").val();""===i&&(a=!1,this.showErrorAlert("Month-Year is Required!")),null==l?(a=!1,this.showErrorAlert("Type is Required!")):"sr"===l&&null==(e=$("#inp_sr").val())&&(a=!1,this.showErrorAlert("Request Reference is Required!")),"sdor"!==this.sUserType&&null==(s=$("#inp_office").val())&&(a=!1,this.showErrorAlert("Office is Required!")),!0===a&&(t={sheet_fund_type:l,transact_month:i.split("/")[0],transact_year:i.split("/")[1]},t="sr"===l?Object.assign({},t,{fs_id:e}):t,t="sdor"!==this.sUserType?Object.assign({},t,{region_id:s}):t,this.getDateValues(),this.getReportDetails(t))},getDateValues:function(){var t=$("#inpMonthYearTransact").val(),e=t.split("/")[0],s=t.split("/")[1],a=e+"-01-"+s,i=l()(a).endOf("month").format("DD");this.sTitleDate="01-"+i+" "+l()(a).format("MMMM")+" "+s},executeUserTypeRequests:function(){"sdor"!==this.sUserType&&($("#divInpOffice").css("visibility",""),this.getRegionList())},getRegionList:function(){this.aRegionList=this.$root.parseLocalStorageLib().regions},getReportDetails:function(t){var e=this;this.getRequest(this.sReportDetailsUrl,(function(t){var s=t.data;0===s.length?(e.resetDisplayTable(),e.showErrorAlert("No available data to load!"),$(".tbl-empty").css("display",""),$(".tbl-with-content").css("display","none"),$("#btnPrintReport").attr("disabled",!0),$("#btnPrintReport").attr("class","btn btn-default btn-gradient dark btn-lg")):($(".tbl-with-content").css("display",""),$(".tbl-empty").css("display","none"),$("#btnPrintReport").attr("disabled",!1),$("#btnPrintReport").attr("class","btn btn-success btn-gradient dark btn-lg"),e.aSheetDetails=s,e.reportLayoutSetter(s))}),t)},resetDisplayTable:function(){this.aSheetDetails=[],this.fTotalGrossAmount=0,this.fTotalTaxAmount=0,this.fTotalNetAmount=0,this.fTotalParticularAmount=0},reportLayoutSetter:function(t){this.sTitleDate=void 0===t.date_details?this.sTitleDate:t.date_details.title_date,this.sCurrDate=void 0===t.date_details?this.sCurrDate:t.date_details.curr_date,"cash-reg-report"===this.sReportType?(this.sReportNo=t.sheet_details.report_no,this.sSheetNo=t.sheet_details.sheet_no,this.sFundCluster=t.sheet_details.fund_desc+" ("+t.sheet_details.fund_code+")",this.computeTotalAmount()):"cash-reg-record"===this.sReportType?(this.aFundSource=t.fund_source[0],this.aSheetRecap=t.sheet_recap,this.aSheetSummary=t.sheet_summary):"cash-reg-register"===this.sReportType?(this.aFundSource=t.fund_source[0],this.aSheetRecap=t.sheet_recap,this.aSheetSummary=t.sheet_summary,this.computeSummation()):"cash-reg-liquidation"===this.sReportType&&(this.aSheetSummary=t.sheet_summary)},getFundSourceList:function(){var t=this;this.getRequest("fund-source/get-list",(function(e){t.aFSList=e.data}),{fs_type:"sr",fs_status:"RELEASED"})},computeTotalAmount:function(){var t=this.aSheetDetails.sheet_entries.reduce((function(t,e){return t+parseFloat(e.net_amount)}),0),e=this.aSheetDetails.sheet_entries.reduce((function(t,e){return t+parseFloat(e.tax_amount)}),0),s=this.aSheetDetails.sheet_entries.reduce((function(t,e){return t+parseFloat(e.gross_amount)}),0),a=this.aSheetDetails.sheet_recap.reduce((function(t,e){return t+parseFloat(e.total_amount)}),0);this.fTotalGrossAmount=s.toFixed(2),this.fTotalTaxAmount=e.toFixed(2),this.fTotalNetAmount=t.toFixed(2),this.fTotalParticularAmount=a.toFixed(2)},computeSummation:function(t){var e=this;this.aSheetDetails.sheet_entries.forEach((function(t){"5-01-010-1000"===t.uacs_code?e.fSumOfSWReg+=parseFloat(t.net_amount):"5-01-010-2000"===t.uacs_code?e.fSumOfSWCas+=parseFloat(t.net_amount):"5-02-03-010"===t.uacs_code?e.fSumOfOffice+=parseFloat(t.net_amount):e.fSumOfOthers+=parseFloat(t.net_amount)}))},parseCompressedData:function(){var t=this.$root.getLocalStorageValue("forEx");this.aSheetDetails=JSON.parse(atob(t)),this.reportLayoutSetter(this.aSheetDetails)},printReport:function(){var t=document.getElementById("printableDiv").outerHTML,e=document.body.innerHTML;document.body.innerHTML=t,window.print(),document.body.innerHTML=e}}}},8504:(t,e,s)=>{s.r(e),s.d(e,{default:()=>Qt});var a=s(821),l={id:"content_wrapper"},i=(0,a.uE)('<header id="topbar" class="alt"><div class="topbar-left"><ol class="breadcrumb"><li class="crumb-trail"> Financial Reports </li><li class="crumb-active"><a>Cash Disbursement Record</a></li></ol></div></header>',1),n={class:"panel"},r=(0,a._)("div",{class:"panel-heading"},[(0,a._)("span",{class:"panel-title"},"Cash Disbursement Record Report")],-1),o={class:"panel-body"},d={class:"col-md-12"},c={class:"form-group"},u={class:"col-md-4"},_={class:"select2-single form-control",id:"inp_fund_type"},h=(0,a._)("option",{disabled:"",value:"0",selected:""},"Please select type",-1),p=["value"],g=(0,a._)("p",{id:"p_fund_type",style:{display:"none"},class:"error_msg"},"Please select a Fund Type! ",-1),y=(0,a.uE)('<div class="col-md-3"><div class="admin-form mw1000 center-block"><label for="monthpicker1" class="field prepend-icon"><input type="text" id="inpMonthYearTransact" name="inpMonthYearTransact" class="gui-input" placeholder="Enter month and year" readonly style="height:38px;"><label class="field-icon"><i class="fa fa-calendar-o"></i></label></label></div></div><div class="col-md-5"><button id="btnGenReport" type="button" class="btn btn-primary btn-gradient dark btn-md"><i class="fa fa-download"></i> Generate Report </button>   <button id="btnPrintReport" type="button" class="btn btn-default btn-gradient dark btn-md" disabled><i class="fa fa-file-pdf-o"></i> Print Report </button></div>',2),f={class:"col-md-12",style:{"margin-top":"10px"}},m={class:"form-group"},b={id:"divSRSelection",class:"col-md-4",style:{visibility:"hidden"}},x={class:"select2-single form-control",id:"inp_sr"},v=(0,a._)("option",{disabled:"",value:"0",selected:""},"Please select Special Request",-1),S=["value"],D={id:"divInpOffice",class:"col-md-3",style:{visibility:"hidden"}},T={class:"select2-single form-control",id:"inp_office"},w=(0,a._)("option",{disabled:"",value:"0",selected:""},"Please select office",-1),R=["value"],F=(0,a._)("p",{id:"p_fund_type",style:{display:"none"},class:"error_msg"},"Please select a Fund Type! ",-1),P={class:"col-md-12"},k={class:"panel panel-colorbox-open panel-dark",id:"spy2"},C=(0,a._)("br",null,null,-1),L={class:"panel-heading"},A={class:"panel-title hidden-xs",style:{color:"rgb(255, 255, 255)"}},O=(0,a._)("span",{class:"glyphicon glyphicon-tasks"},null,-1),U={class:"panel-body pn"},z=(0,a._)("table",{class:"table table-bordered mbn tbl-empty",cellspacing:"0",width:"100%"},[(0,a._)("tbody",null,[(0,a._)("tr",null,[(0,a._)("td",{colspan:"8",style:{"font-size":"20px","text-align":"center"}},[(0,a._)("p",null,[(0,a._)("br"),(0,a.Uk)("No Data Available"),(0,a._)("br"),(0,a._)("br")])])])])],-1),M={class:"table table-bordered mbn tbl-with-content",id:"tbl_cash_reg_summary",cellspacing:"0",width:"100%",style:{display:"none"}},$=(0,a._)("thead",null,[(0,a._)("tr",null,[(0,a._)("th",{style:{"text-align":"center"}},"Date"),(0,a._)("th",{style:{"text-align":"center"}},"ADA/DV/Payroll No."),(0,a._)("th",{style:{"text-align":"center"}},"Payee"),(0,a._)("th",{style:{"text-align":"center"}},"UACS Object Code"),(0,a._)("th",{style:{"text-align":"center"}},"Nature of Payment"),(0,a._)("th",{style:{"text-align":"center"}},[(0,a.Uk)("Cash Advance "),(0,a._)("br"),(0,a.Uk)("Received/"),(0,a._)("br"),(0,a.Uk)("Refunded")]),(0,a._)("th",{style:{"text-align":"center"}},"Disbursements"),(0,a._)("th",{style:{"text-align":"center"}},"Cash Advance Balance")])],-1),N={style:{"text-align":"right"}},E=(0,a._)("td",{style:{"text-align":"center"}}," ",-1),Y=(0,a._)("td",{style:{"text-align":"center"}}," ",-1),H=(0,a._)("td",{style:{"text-align":"center"}}," ",-1),q={style:{"text-align":"left"}},G={style:{"text-align":"right"}},j=(0,a._)("span",{class:"pull-left"},"Php",-1),K=(0,a._)("td",{style:{"text-align":"right"}}," ",-1),V={style:{"text-align":"right"}},W=(0,a._)("span",{class:"pull-left"},"Php",-1),Z={style:{"text-align":"right"}},B={style:{"text-align":"center"}},I={style:{"text-align":"left"}},J={style:{"text-align":"left"}},Q={style:{"text-align":"left"}},X=(0,a._)("td",{style:{"text-align":"left"}}," ",-1),tt={style:{"text-align":"right"}},et=(0,a._)("span",{class:"pull-left"},"Php",-1),st={style:{"text-align":"right"}},at=(0,a._)("span",{class:"pull-left"},"Php",-1),lt=(0,a._)("tr",null,[(0,a._)("td",{style:{"text-align":"right"}}," "),(0,a._)("td",{style:{"text-align":"center"}}," "),(0,a._)("td",{style:{"text-align":"center"}}," "),(0,a._)("td",{style:{"text-align":"center"}}," "),(0,a._)("td",{style:{"text-align":"left"}}," "),(0,a._)("td",{style:{"text-align":"left"}}," "),(0,a._)("td",{style:{"text-align":"right"}}," "),(0,a._)("td",{style:{"text-align":"right"}}," ")],-1),it=(0,a._)("tr",null,[(0,a._)("td",{style:{"text-align":"right"}},[(0,a._)("b",null,"RECAP:")]),(0,a._)("td",{style:{"text-align":"center"}}," "),(0,a._)("td",{style:{"text-align":"center"}}," "),(0,a._)("td",{style:{"text-align":"center"}}," "),(0,a._)("td",{style:{"text-align":"left"}}," "),(0,a._)("td",{style:{"text-align":"left"}}," "),(0,a._)("td",{style:{"text-align":"right"}}," "),(0,a._)("td",{style:{"text-align":"right"}}," ")],-1),nt=(0,a._)("td",{style:{"text-align":"right"}}," ",-1),rt=(0,a._)("td",{style:{"text-align":"center"}}," ",-1),ot={style:{"text-align":"left"}},dt={style:{"text-align":"right"}},ct=(0,a._)("td",{style:{"text-align":"left"}}," ",-1),ut=(0,a._)("td",{style:{"text-align":"left"}}," ",-1),_t=(0,a._)("td",{style:{"text-align":"right"}}," ",-1),ht=(0,a._)("td",{style:{"text-align":"right"}}," ",-1),pt=(0,a._)("td",{style:{"text-align":"right"}}," ",-1),gt=(0,a._)("td",{style:{"text-align":"center"}}," ",-1),yt=(0,a._)("td",{style:{"text-align":"left"}},[(0,a._)("b",null,"TOTAL:")],-1),ft={style:{"text-align":"right"}},mt=(0,a._)("td",{style:{"text-align":"left"}}," ",-1),bt=(0,a._)("td",{style:{"text-align":"left"}}," ",-1),xt=(0,a._)("td",{style:{"text-align":"right"}}," ",-1),vt=(0,a._)("td",{style:{"text-align":"right"}}," ",-1),St=(0,a._)("tr",null,[(0,a._)("td",{style:{"text-align":"right"}}," "),(0,a._)("td",{style:{"text-align":"center"}}," "),(0,a._)("td",{style:{"text-align":"left"}}," "),(0,a._)("td",{style:{"text-align":"left"}}," "),(0,a._)("td",{style:{"text-align":"left"}}," "),(0,a._)("td",{style:{"text-align":"right"}}," "),(0,a._)("td",{style:{"text-align":"right"}}," ")],-1),Dt=(0,a._)("td",{style:{"text-align":"right"}}," ",-1),Tt=(0,a._)("td",{style:{"text-align":"center"}}," ",-1),wt=(0,a._)("td",{style:{"text-align":"center"}}," ",-1),Rt=(0,a._)("td",{style:{"text-align":"left"}}," ",-1),Ft=(0,a._)("td",{style:{"text-align":"left"}}," ",-1),Pt=(0,a._)("td",{style:{"text-align":"left"}},"COH - Bank",-1),kt={style:{"text-align":"right"}},Ct=(0,a._)("span",{class:"pull-left"},"Php",-1),Lt=(0,a._)("td",{style:{"text-align":"right"}}," ",-1),At=(0,a._)("td",{style:{"text-align":"right"}}," ",-1),Ot=(0,a._)("td",{style:{"text-align":"center"}}," ",-1),Ut=(0,a._)("td",{style:{"text-align":"center"}}," ",-1),zt=(0,a._)("td",{style:{"text-align":"left"}}," ",-1),Mt=(0,a._)("td",{style:{"text-align":"left"}}," ",-1),$t=(0,a._)("td",{style:{"text-align":"left"}},"COH - Hand",-1),Nt={style:{"text-align":"right"}},Et=(0,a._)("span",{class:"pull-left"},"Php",-1),Yt=(0,a._)("td",{style:{"text-align":"right"}}," ",-1),Ht=(0,a._)("td",{style:{"text-align":"right"}}," ",-1),qt=(0,a._)("td",{style:{"text-align":"center"}}," ",-1),Gt=(0,a._)("td",{style:{"text-align":"center"}}," ",-1),jt=(0,a._)("td",{style:{"text-align":"left"}}," ",-1),Kt=(0,a._)("td",{style:{"text-align":"left"}}," ",-1),Vt=(0,a._)("td",{style:{"text-align":"left"}},[(0,a._)("b",null,"Total")],-1),Wt={style:{"text-align":"right"}},Zt=(0,a._)("span",{class:"pull-left"},"Php",-1),Bt={style:{"text-align":"right"}},It=(0,a._)("span",{class:"pull-left"},"Php",-1);const Jt={mixins:[s(5266).Z],created:function(){this.sReportType="cash-reg-record",this.sReportDetailsUrl="report/cashreg-record-report",this.sPrintPageUrl="/front/sdor/report/cd/record/print"}};const Qt=(0,s(3744).Z)(Jt,[["render",function(t,e,s,Jt,Qt,Xt){var te=(0,a.up)("C_Layout_Header"),ee=(0,a.up)("C_Layout_SDOR_Sidebar"),se=(0,a.up)("C_Layout_ACTG_Sidebar");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a.Wm)(te),"sdor"===t.sUserType?((0,a.wg)(),(0,a.j4)(ee,{key:0})):"actg"===t.sUserType?((0,a.wg)(),(0,a.j4)(se,{key:1})):(0,a.kq)("",!0),(0,a._)("section",l,[i,(0,a._)("div",n,[r,(0,a._)("div",o,[(0,a._)("div",d,[(0,a._)("div",c,[(0,a._)("div",u,[(0,a._)("select",_,[h,((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(t.aFundTypes,(function(t){return(0,a.wg)(),(0,a.iD)("option",{value:t.code},(0,a.zw)(t.desc),9,p)})),256))]),g]),y])]),(0,a._)("div",f,[(0,a._)("div",m,[(0,a._)("div",b,[(0,a._)("select",x,[v,((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(t.aFSList,(function(t){return(0,a.wg)(),(0,a.iD)("option",{value:t.fs_id},(0,a.zw)(t.cpo_no)+" ("+(0,a.zw)(t.fs_desc)+") ",9,S)})),256))])]),(0,a._)("div",D,[(0,a._)("select",T,[w,((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(t.aRegionList,(function(t){return(0,a.wg)(),(0,a.iD)("option",{value:t.region_id},(0,a.zw)(t.region_abbr)+" ("+(0,a.zw)(t.region_desc)+")",9,R)})),256))]),F])])]),(0,a._)("div",P,[(0,a._)("div",k,[C,(0,a._)("div",L,[(0,a._)("div",A,[O,(0,a.Uk)("Period Covered "+(0,a.zw)(t.sTitleDate),1)])]),(0,a._)("div",U,[z,(0,a._)("table",M,[$,(0,a._)("tbody",null,[(0,a._)("tr",null,[(0,a._)("td",N,(0,a.zw)(t.convertDateFormat(t.aFundSource.date_created,"DD-MMM")),1),E,Y,H,(0,a._)("td",q,(0,a.zw)(t.aFundSource.fs_desc),1),(0,a._)("td",G,[j,(0,a.Uk)(" "+(0,a.zw)(t.convertNumberFormat(t.aFundSource.fs_net_amount)),1)]),K,(0,a._)("td",V,[W,(0,a.Uk)(" "+(0,a.zw)(t.convertNumberFormat(t.aFundSource.fs_net_amount)),1)])]),((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(t.aSheetDetails.sheet_entries,(function(e){return(0,a.wg)(),(0,a.iD)("tr",null,[(0,a._)("td",Z,(0,a.zw)(t.convertDateFormat(e.date_created,"DD-MMM")),1),(0,a._)("td",B,(0,a.zw)(e.fs_dv_no),1),(0,a._)("td",I,(0,a.zw)(e.payee_name),1),(0,a._)("td",J,(0,a.zw)(e.uacs_code),1),(0,a._)("td",Q,(0,a.zw)(e.uacs_acc_title),1),X,(0,a._)("td",tt,[et,(0,a.Uk)(" "+(0,a.zw)(t.convertNumberFormat(e.net_amount)),1)]),(0,a._)("td",st,[at,(0,a.Uk)(" "+(0,a.zw)(t.convertNumberFormat(e.difference)),1)])])})),256)),lt,it,((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(t.aSheetRecap,(function(e){return(0,a.wg)(),(0,a.iD)("tr",null,[nt,rt,(0,a._)("td",ot,(0,a.zw)(e.uacs_code),1),(0,a._)("td",dt,(0,a.zw)(t.convertNumberFormat(e.total_amount)),1),ct,ut,_t,ht])})),256)),(0,a._)("tr",null,[pt,gt,yt,(0,a._)("td",ft,[(0,a._)("b",null,(0,a.zw)(t.convertNumberFormat(t.aSheetSummary.total_expenses)),1)]),mt,bt,xt,vt]),St,(0,a._)("tr",null,[Dt,Tt,wt,Rt,Ft,Pt,(0,a._)("td",kt,[Ct,(0,a.Uk)(" "+(0,a.zw)(t.convertNumberFormat(t.aSheetSummary.total_cash)),1)]),Lt]),(0,a._)("tr",null,[At,Ot,Ut,zt,Mt,$t,(0,a._)("td",Nt,[Et,(0,a.Uk)(" "+(0,a.zw)(t.convertNumberFormat(t.aSheetSummary.total_coh)),1)]),Yt]),(0,a._)("tr",null,[Ht,qt,Gt,jt,Kt,Vt,(0,a._)("td",Wt,[(0,a._)("b",null,[Zt,(0,a.Uk)(" "+(0,a.zw)(t.convertNumberFormat(t.aSheetSummary.total_expenses)),1)])]),(0,a._)("td",Bt,[(0,a._)("b",null,[It,(0,a.Uk)(" "+(0,a.zw)(t.convertNumberFormat(t.aSheetSummary.total_coh)),1)])])])])])])])])])])])],64)}]])}}]);