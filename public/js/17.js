"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[17],{3820:(e,t,a)=>{a.d(t,{Z:()=>i});var n=a(860),s=a(475);const i={mixins:[n.Z,s.Z],data:function(){return{aTableConfig:{aoColumnDefs:[{bSortable:!0,aTargets:[-1]}],oLanguage:{oPaginate:{sPrevious:"",sNext:""}},iDisplayLength:5,aLengthMenu:[[5,10,25,50,-1],[5,10,25,50,"All"]],sDom:'<"dt-panelmenu clearfix"lfr>t<"dt-panelfooter clearfix"ip>',oTableTools:{sSwfPath:"vendor/plugins/datatables/extensions/TableTools/swf/copy_csv_xls_pdf.swf"}},iSelectedRegion:0,aSheets:[],sActiveDate:"",sFundType:"",aRegions:[],aSheetStatuses:[{id:"OPEN",desc:"Open"},{id:"FOR REVISION",desc:"For Revision"},{id:"REVISED",desc:"Revised"},{id:"POSTED",desc:"Posted"}]}},mounted:function(){this.initializePlugins(),this.getRegions(),this.initCreateButtonEventListener(),this.initPageData()},methods:{initializePlugins:function(){$(".status-select").select2(),$(".reg-select").select2(),$("#inpMonthYearTransact").monthpicker({changeYear:!1,stepYears:1,prevText:'<i class="fa fa-chevron-left"></i>',nextText:'<i class="fa fa-chevron-right"></i>',showButtonPanel:!0,beforeShow:function(e,t){var a=$(this).parents(".admin-form").attr("class");t.dpDiv.parent().hasClass(a)||t.dpDiv.wrap('<div class="'+a+'"></div>')}})},getRegions:function(){this.aRegions=this.$root.parseLocalStorageLib().regions},initCreateButtonEventListener:function(){var e=this;document.body.addEventListener("click",(function(t){t.preventDefault(),"btnFilterEntries"===t.target.id&&e.validateSheetFilter()}),!1)},validateSheetFilter:function(){var e=$("#inp_region").val();this.iSelectedRegion=null!==e?e:0;var t=$("#inp_status").val(),a=$("#inpMonthYearTransact").val();if(null===e)this.showErrorAlert("Please Select a Region!");else if(""===a)this.showErrorAlert("Month and Year is Required!");else{var n=a.split("/");this.getSheets(this.iSelectedRegion,n[0],n[1],t)}},initTblSheets:function(){$("#tbl_Sheets").DataTable(this.aTableConfig),$(".dataTables_filter input").attr("placeholder","Enter Terms...")},initTableEventListener:function(){document.body.addEventListener("click",(function(e){e.preventDefault(),"viewDetails"===e.target.dataset.attr&&(window.location.href="/front/actg/view-sheet-details/"+e.target.dataset.sheet_id)}),!1)},initPageData:function(){var e=this,t=parseInt(null!=this.$route.query.reg?this.$route.query.reg:0),a=null!=this.$route.query.stat?this.$route.query.stat:"",n=null!=this.$route.query.mn?this.$route.query.mn:moment().format("MM"),s=null!=this.$route.query.yr?this.$route.query.yr:moment().format("YYYY"),i=n+"/"+s;$("#inpMonthYearTransact").val(i),setTimeout((function(){0!=t&&$(".reg-select").select2().val(t).trigger("change"),""!=a&&$(".status-select").select2().val(a).trigger("change"),e.getSheets(t,n,s,a)}),100)},getSheets:function(e,t,a,n){var s=this,i=this,l={region_id:e,sheet_fund_type:this.sFundType,transact_month:t,transact_year:a,status:n};0==l.region_id&&delete l.region_id,""==l.status&&delete l.status,this.getRequest("actg/get-sheets",(function(e){s.aSheets=e.data,!0===$.fn.dataTable.isDataTable("#tbl_Sheets")&&$("#tbl_Sheets").DataTable().destroy(),setTimeout((function(){i.initTblSheets()}),500),setTimeout((function(){i.initTableEventListener()}),500)}),l)}}}},17:(e,t,a)=>{a.r(t),a.d(t,{default:()=>A});var n=a(821),s={id:"main"},i={id:"content_wrapper"},l=(0,n.uE)('<header id="topbar" class="alt"><div class="topbar-left"><ol class="breadcrumb"><li class="crumb-trail"> Cash Management </li><li class="crumb-trail"> Manage Sheet </li><li class="crumb-active"><a>Maintenance and Other Operating Expenses</a></li></ol></div></header>',1),r={class:"panel"},o=(0,n._)("div",{class:"panel-heading"},[(0,n._)("span",{class:"panel-title"},"Manage Cash Disbursement Sheets for MOOE")],-1),c={class:"panel-body"},d={class:"form-group",id:"divInpTransactMY"},u={class:"admin-form mw1000 left-block"},h={class:"col-md-3"},g=(0,n._)("label",{for:"inp_status",style:{"margin-bottom":"2%"}},[(0,n._)("b",null,"Office:")],-1),p={class:"select2-single form-control reg-select",id:"inp_region"},_=(0,n._)("option",{value:"0",selected:""},"ALL",-1),f=["value"],b={class:"col-md-2",style:{"margin-top":"1px"}},v=(0,n._)("label",{for:"inp_status",style:{"margin-bottom":"2%"}},[(0,n._)("b",null,"Status:")],-1),m={class:"select2-single form-control status-select",id:"inp_status"},y=(0,n._)("option",{value:"",selected:""},"ALL",-1),S=["value"],w=(0,n.uE)('<div class="col-md-2"><label for="inp_status" style="margin-bottom:2%;"><b>Date Created:</b></label><label for="monthpicker1" class="field prepend-icon"><input type="text" id="inpMonthYearTransact" name="inpMonthYearTransact" class="gui-input" placeholder="Enter month and year" readonly><label class="field-icon"><i class="fa fa-calendar-o"></i></label></label></div><div class="col-md-4" style="margin-top:21px;"><button id="btnFilterEntries" type="button" class="btn btn-primary btn-gradient dark btn-lg"><i class="fa fa-refresh"></i> Filter Entries </button></div>',2),T={class:"col-md-12"},D={class:"panel panel-colorbox-open panel-dark",id:"spy2"},x=(0,n._)("br",null,null,-1),E=(0,n._)("div",{class:"panel-heading"},[(0,n._)("div",{class:"panel-title hidden-xs"},[(0,n._)("span",{class:"fa fa-table"}),(0,n.Uk)("Cash Disbursement Sheets for Maintenance and Other Operating Expenses ")])],-1),$={class:"panel-body pn"},M={class:"table table-striped table-hover",id:"tbl_Sheets",cellspacing:"0",width:"100%"},Y=(0,n._)("thead",null,[(0,n._)("tr",null,[(0,n._)("th",{style:{"text-align":"center"}},"SysId"),(0,n._)("th",{style:{"text-align":"center"}},"Sheet No"),(0,n._)("th",{style:{"text-align":"center"}},"Accounting Period"),(0,n._)("th",{style:{"text-align":"center"}},"Status"),(0,n._)("th",{style:{"text-align":"center"}},"Date Created"),(0,n._)("th",{style:{"text-align":"center"}},"Action")])],-1),L={style:{"text-align":"center"}},C={style:{"text-align":"center"}},R={style:{"text-align":"center"}},k={style:{"text-align":"center"}},P={style:{"text-align":"center"}},O={style:{"text-align":"center"}},F=["data-sheet_id"],q=(0,n._)("i",{class:"fa fa-arrow-circle-o-right"},null,-1);const z={mixins:[a(3820).Z],mounted:function(){this.sFundType="mooe"}};const A=(0,a(3744).Z)(z,[["render",function(e,t,a,z,A,I){var Z=(0,n.up)("C_Layout_Header"),H=(0,n.up)("C_Layout_ACTG_Sidebar");return(0,n.wg)(),(0,n.iD)("div",s,[(0,n.Wm)(Z),(0,n.Wm)(H),(0,n._)("section",i,[l,(0,n._)("div",r,[o,(0,n._)("div",c,[(0,n._)("div",d,[(0,n._)("div",u,[(0,n._)("div",h,[g,(0,n._)("select",p,[_,((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(e.aRegions,(function(e){return(0,n.wg)(),(0,n.iD)("option",{value:e.region_id},(0,n.zw)(e.region_abbr)+" - "+(0,n.zw)(e.region_desc),9,f)})),256))])]),(0,n._)("div",b,[v,(0,n._)("select",m,[y,((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(e.aSheetStatuses,(function(e){return(0,n.wg)(),(0,n.iD)("option",{value:e.id},(0,n.zw)(e.desc),9,S)})),256))])]),w])]),(0,n._)("div",T,[(0,n._)("div",D,[x,E,(0,n._)("div",$,[(0,n._)("table",M,[Y,(0,n._)("tbody",null,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(e.aSheets,(function(t){return(0,n.wg)(),(0,n.iD)("tr",null,[(0,n._)("td",L,(0,n.zw)(t.temp_id),1),(0,n._)("td",C,(0,n.zw)(null===t.sheet_no?"---":t.sheet_no),1),(0,n._)("td",R,(0,n.zw)(e.convertDateFormat(t.transact_year+"-"+t.transact_month,"MMMM YYYY")),1),(0,n._)("td",k,(0,n.zw)(t.status),1),(0,n._)("td",P,(0,n.zw)(t.date_created),1),(0,n._)("td",O,[(0,n._)("button",{type:"button","data-attr":"viewDetails","data-sheet_id":t.sheet_id,class:"btn btn-md btn-info viewDetails",style:{"margin-right":"9%"}},[q,(0,n.Uk)(" View Details ")],8,F)])])})),256))])])])])])])])])])}]])}}]);